{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/babel-loader/lib/index.js!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/Map.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/babel-loader/lib/index.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvV0RfRWxlbWVudHNfMjVBMV9NZWRpYS9Hb29nbGUgRHJpdmUvX19fUHVibGljL19fMjAyMS1IYWNrYXRob24tRU9EL2VvZGFzaC1zdGFnaW5nL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Cgp2YXIgX3RoaXMyID0gdGhpczsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2VvSnNvbiwgUG9pbnQsIERpdkljb24sIGZlYXR1cmVHcm91cCB9IGZyb20gJ2xlYWZsZXQnOwppbXBvcnQgeyBMTWFwLCBMVGlsZUxheWVyLCBMV01TVGlsZUxheWVyLCBMR2VvSnNvbiwgTE1hcmtlciwgTEljb24sIExUb29sdGlwLCBMQ29udHJvbExheWVycywgTENvbnRyb2xBdHRyaWJ1dGlvbiwgTENvbnRyb2xab29tIH0gZnJvbSAndnVlMi1sZWFmbGV0JzsKaW1wb3J0IFZ1ZTJMZWFmbGV0TWFya2VyQ2x1c3RlciBmcm9tICd2dWUyLWxlYWZsZXQtbWFya2VyY2x1c3Rlcic7CmltcG9ydCAnbGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzJzsKaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvZGlzdC9NYXJrZXJDbHVzdGVyLmNzcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzCgppbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9uby1leHRyYW5lb3VzLWRlcGVuZGVuY2llcwoKaW1wb3J0ICdsZWFmbGV0LW1vdXNlLXBvc2l0aW9uJzsKaW1wb3J0IGNvdW50cmllcyBmcm9tICdAL2Fzc2V0cy9jb3VudHJpZXMuanNvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMTWFwOiBMTWFwLAogICAgTFRpbGVMYXllcjogTFRpbGVMYXllciwKICAgIExXTVNUaWxlTGF5ZXI6IExXTVNUaWxlTGF5ZXIsCiAgICBMR2VvSnNvbjogTEdlb0pzb24sCiAgICBMTWFya2VyOiBMTWFya2VyLAogICAgTEljb246IExJY29uLAogICAgTFRvb2x0aXA6IExUb29sdGlwLAogICAgTENvbnRyb2xMYXllcnM6IExDb250cm9sTGF5ZXJzLAogICAgTENvbnRyb2xBdHRyaWJ1dGlvbjogTENvbnRyb2xBdHRyaWJ1dGlvbiwKICAgIExDb250cm9sWm9vbTogTENvbnRyb2xab29tLAogICAgJ2wtbWFya2VyLWNsdXN0ZXInOiBWdWUyTGVhZmxldE1hcmtlckNsdXN0ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtYXA6IG51bGwsCiAgICAgIG1pbk1hcFpvb206IDMsCiAgICAgIHpvb206IDMsCiAgICAgIG1heE1hcFpvb206IDE0LAogICAgICBjZW50ZXI6IFs1NSwgMTBdLAogICAgICBib3VuZHM6IG51bGwsCiAgICAgIGN1cnJlbnRTZWxlY3RlZDogbnVsbCwKICAgICAgY3VycmVudFNlbGVjdGVkSW5kZXg6IG51bGwsCiAgICAgIHN1YkFvaTogbnVsbCwKICAgICAgZGVmYXVsdE1hcE9wdGlvbnM6IHsKICAgICAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IGZhbHNlLAogICAgICAgIHpvb21Db250cm9sOiBmYWxzZQogICAgICB9LAogICAgICBvcGFjaXR5VGVycmFpbjogWzFdLAogICAgICBvcGFjaXR5T3ZlcmxheTogWzAsIDAsIDAsIDAsIDAsIDAsIDAuNCwgMC40LCAwLjgsIDAuOCwgMC45LCAwLjksIDAuOSwgMC45LCAwLjksIDAuOSwgMC45XSwKICAgICAgb3BhY2l0eUNvdW50cmllczogWzEsIDEsIDEsIDEsIDAuNywgMC43LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycygnZmVhdHVyZXMnLCBbJ2dldEdyb3VwZWRGZWF0dXJlcyddKSksIG1hcFN0YXRlKCdjb25maWcnLCBbJ2FwcENvbmZpZycsICdiYXNlQ29uZmlnJ10pKSwge30sIHsKICAgIGJhc2VMYXllcnM6IGZ1bmN0aW9uIGJhc2VMYXllcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmJhc2VDb25maWcuYmFzZUxheWVyc0xlZnRNYXA7CiAgICB9LAogICAgb3ZlcmxheUxheWVyczogZnVuY3Rpb24gb3ZlcmxheUxheWVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuYmFzZUNvbmZpZy5vdmVybGF5TGF5ZXJzTGVmdE1hcDsKICAgIH0sCiAgICBjb3VudHJpZXNKc29uOiBmdW5jdGlvbiBjb3VudHJpZXNKc29uKCkgewogICAgICByZXR1cm4gY291bnRyaWVzOwogICAgfSwKICAgIGNsdXN0ZXJPcHRpb25zOiBmdW5jdGlvbiBjbHVzdGVyT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiA0MCwKICAgICAgICBhbmltYXRlOiBmYWxzZSwKICAgICAgICAvLyB6b29tVG9Cb3VuZHNPbkNsaWNrOiBmYWxzZSwKICAgICAgICBpY29uQ3JlYXRlRnVuY3Rpb246IGZ1bmN0aW9uIChjbHVzdGVyKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lcwogICAgICAgICAgLy8gbGVmdCBhcyBkZWZhdWx0CiAgICAgICAgICB2YXIgc2VsQ2x1c3RlciA9IG51bGw7CgogICAgICAgICAgaWYgKHRoaXMuY3VycmVudFNlbGVjdGVkICE9PSBudWxsICYmIHRoaXMuJHJlZnMuY2x1c3RlckxheWVyKSB7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZE1hcmtlciA9IHRoaXMuJHJlZnMubWFya2Vycy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gX3RoaXMuY3VycmVudFNlbGVjdGVkOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChzZWxlY3RlZE1hcmtlcikgewogICAgICAgICAgICAgIHNlbENsdXN0ZXIgPSB0aGlzLiRyZWZzLmNsdXN0ZXJMYXllci5tYXBPYmplY3QuZ2V0VmlzaWJsZVBhcmVudChzZWxlY3RlZE1hcmtlci5tYXBPYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIG1vZGlmaWVkIHNlbGVjdGVkIGNsdXN0ZXIgc3R5bGUKCgogICAgICAgICAgdmFyIHNlbCA9IHNlbENsdXN0ZXIgIT09IG51bGwgPyBjbHVzdGVyLl9sZWFmbGV0X2lkID09PSBzZWxDbHVzdGVyLl9sZWFmbGV0X2lkIDogZmFsc2U7CiAgICAgICAgICB2YXIgc2VsZWN0ZWRDbGFzcyA9IHNlbCA/ICcgbWFya2VyLWNsdXN0ZXItc2VsZWN0ZWQnIDogJyc7CiAgICAgICAgICB2YXIgaWNvblNpemUgPSBudWxsOwoKICAgICAgICAgIGlmIChzZWwpIHsKICAgICAgICAgICAgaWNvblNpemUgPSBuZXcgUG9pbnQoNDgsIDQ4KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGljb25TaXplID0gbmV3IFBvaW50KDQwLCA0MCk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGNoaWxkQ291bnQgPSBjbHVzdGVyLmdldENoaWxkQ291bnQoKTsKICAgICAgICAgIHJldHVybiBuZXcgRGl2SWNvbih7CiAgICAgICAgICAgIGh0bWw6ICI8ZGl2IGNsYXNzPVwiIi5jb25jYXQoc2VsZWN0ZWRDbGFzcywgIlwiPjxzcGFuPiIpLmNvbmNhdChjaGlsZENvdW50LCAiPC9zcGFuPjwvZGl2PiIpLAogICAgICAgICAgICBjbGFzc05hbWU6ICJtYXJrZXItY2x1c3RlciAiLmNvbmNhdChzZWxlY3RlZENsYXNzKSwKICAgICAgICAgICAgaWNvblNpemU6IGljb25TaXplCiAgICAgICAgICB9KTsKICAgICAgICB9LmJpbmQodGhpcyksCiAgICAgICAgcG9seWdvbk9wdGlvbnM6IHsKICAgICAgICAgIGZpbGxDb2xvcjogdGhpcy4kdnVldGlmeS50aGVtZS50aGVtZXMubGlnaHQucHJpbWFyeSwKICAgICAgICAgIGNvbG9yOiB0aGlzLiR2dWV0aWZ5LnRoZW1lLnRoZW1lcy5saWdodC5wcmltYXJ5LAogICAgICAgICAgd2VpZ2h0OiAwLjUsCiAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMywKICAgICAgICAgIGRhc2hBcnJheTogNAogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBpbmRpY2F0b3JzRGVmaW5pdGlvbjogZnVuY3Rpb24gaW5kaWNhdG9yc0RlZmluaXRpb24oKSB7CiAgICAgIHJldHVybiBfdGhpczIuYmFzZUNvbmZpZy5pbmRpY2F0b3JzRGVmaW5pdGlvbjsKICAgIH0sCiAgICBjb3VudHJpZXNTdHlsZTogZnVuY3Rpb24gY291bnRyaWVzU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29sb3I6ICcjYTJhMmEyJywKICAgICAgICB3ZWlnaHQ6IDEsCiAgICAgICAgZmlsbENvbG9yOiAnI2ZmZicsCiAgICAgICAgb3BhY2l0eTogdGhpcy5vcGFjaXR5Q291bnRyaWVzW3RoaXMuem9vbV0sCiAgICAgICAgZmlsbE9wYWNpdHk6IHRoaXMub3BhY2l0eUNvdW50cmllc1t0aGlzLnpvb21dCiAgICAgIH07CiAgICB9LAogICAgc3ViQW9pU3R5bGU6IGZ1bmN0aW9uIHN1YkFvaVN0eWxlKCkgewogICAgICB2YXIgY3VycmVudEluZGljYXRvcjsKICAgICAgdmFyIGZpbGxDb2xvcjsKCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5pbmRpY2F0b3JzLnNlbGVjdGVkSW5kaWNhdG9yKSB7CiAgICAgICAgY3VycmVudEluZGljYXRvciA9IHRoaXMuJHN0b3JlLnN0YXRlLmluZGljYXRvcnMuc2VsZWN0ZWRJbmRpY2F0b3I7CiAgICAgICAgZmlsbENvbG9yID0gdGhpcy5nZXRDb2xvcihjdXJyZW50SW5kaWNhdG9yKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaWxsQ29sb3IgPSB0aGlzLmdldEluZGljYXRvckNvbG9yKCcnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBjb2xvcjogJyNmZmYnLAogICAgICAgIHdlaWdodDogMSwKICAgICAgICBmaWxsQ29sb3I6IGZpbGxDb2xvciwKICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgIGZpbGxPcGFjaXR5OiAwLjUKICAgICAgfTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICB2YXIgbGF5ZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVhZmxldC1jb250cm9sLWxheWVycy10b2dnbGUnKTsKICAgICAgbGF5ZXJCdXR0b24uaW5uZXJIVE1MID0gIjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiIi5jb25jYXQoX3RoaXMzLmFwcENvbmZpZy5icmFuZGluZy5wcmltYXJ5Q29sb3IsICJcIiB3aWR0aD1cIjMycHhcIiBoZWlnaHQ9XCIzMnB4XCI+PHBhdGggZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48cGF0aCBkPVwiTTExLjk5IDE4LjU0bC03LjM3LTUuNzNMMyAxNC4wN2w5IDcgOS03LTEuNjMtMS4yNy03LjM4IDUuNzR6TTEyIDE2bDcuMzYtNS43M0wyMSA5bC05LTctOSA3IDEuNjMgMS4yN0wxMiAxNnpcIi8+PC9zdmc+Iik7CiAgICAgIF90aGlzMy5tYXAgPSBfdGhpczMuJHJlZnMubWFwLm1hcE9iamVjdDsKCiAgICAgIF90aGlzMy4kcmVmcy5zdWJhb2lMYXllci5tYXBPYmplY3QuYmluZFRvb2x0aXAoJ1JlZmVyZW5jZSBhcmVhJywgewogICAgICAgIGRpcmVjdGlvbjogJ3RvcCcKICAgICAgfSk7IC8vIHVwZGF0ZSBsZWFmbGV0IGNvbnRyb2xzCgoKICAgICAgTC5jb250cm9sLm1vdXNlUG9zaXRpb24oewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYKICAgICAgICBlbXB0eVN0cmluZzogJycsCiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIobG9uLCBsYXQpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQobG9uLnRvRml4ZWQoMyksICIsICIpLmNvbmNhdChsYXQudG9GaXhlZCgzKSk7CiAgICAgICAgfSwKICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbXJpZ2h0JwogICAgICB9KS5hZGRUbyhfdGhpczMubWFwKTsgLy8gaGlkZSBhdHRyaWJ1dGlvbiB1bmRlciBpY29uCgogICAgICBfdGhpczMubWFwLmF0dHJpYnV0aW9uQ29udHJvbC5fdXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUKICAgICAgICB2YXIgYXR0cmlicyA9IFtdOwogICAgICAgIHZhciBrayA9IE9iamVjdC5rZXlzKHRoaXMuX2F0dHJpYnV0aW9ucyk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2subGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgIGlmICh0aGlzLl9hdHRyaWJ1dGlvbnNba2tbaV1dKSB7CiAgICAgICAgICAgIGF0dHJpYnMucHVzaChra1tpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgcHJlZml4QW5kQXR0cmlicyA9IFtdOwoKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByZWZpeCkgewogICAgICAgICAgcHJlZml4QW5kQXR0cmlicy5wdXNoKHRoaXMub3B0aW9ucy5wcmVmaXgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGF0dHJpYnMubGVuZ3RoKSB7CiAgICAgICAgICBwcmVmaXhBbmRBdHRyaWJzLnB1c2goYXR0cmlicy5qb2luKCcsICcpKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAiPGRpdiBjbGFzcz0nYXR0cmlidXRpb24tYm9keSc+Ii5jb25jYXQocHJlZml4QW5kQXR0cmlicy5qb2luKCcgfCAnKSwgIjwvZGl2PjxkaXYgY2xhc3M9J2F0dHJpYnV0aW9uLWljb24nPlx1MjEzOTwvZGl2PiIpOwogICAgICB9OwoKICAgICAgX3RoaXMzLm1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wuX3VwZGF0ZSgpOwoKICAgICAgX3RoaXMzLm9uUmVzaXplKCk7CiAgICB9KTsKICAgIHRoaXMuJHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdpbmRpY2F0b3JzL0lORElDQVRPUl9MT0FEX0ZJTklTSEVEJykgewogICAgICAgIGlmIChtdXRhdGlvbi5wYXlsb2FkICE9PSBudWxsICYmIG11dGF0aW9uLnBheWxvYWQuYW9pICE9PSBudWxsKSB7CiAgICAgICAgICBfdGhpczMuY3VycmVudFNlbGVjdGVkID0gX3RoaXMzLmdldExvY2F0aW9uQ29kZShtdXRhdGlvbi5wYXlsb2FkKTsKCiAgICAgICAgICBpZiAobXV0YXRpb24ucGF5bG9hZC5zdWJBb2kpIHsKICAgICAgICAgICAgX3RoaXMzLnN1YkFvaSA9IG11dGF0aW9uLnBheWxvYWQuc3ViQW9pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuY3VycmVudFNlbGVjdGVkID0gbnVsbDsKICAgICAgICAgIF90aGlzMy5zdWJBb2kgPSB7CiAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsCiAgICAgICAgICAgIGZlYXR1cmVzOiBbXQogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5yZXNldENsdXN0ZXJMYXllcigpOwogICAgICB9IGVsc2UgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdmZWF0dXJlcy9TRVRfRkVBVFVSRV9GSUxURVInKSB7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG11dGF0aW9uLnBheWxvYWQpLmluY2x1ZGVzKCdpbmNsdWRlQXJjaGl2ZWQnKSAmJiBPYmplY3Qua2V5cyhtdXRhdGlvbi5wYXlsb2FkKS5sZW5ndGggPT09IDEpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBmZWF0dXJlcyA9IF90aGlzMy5nZXRHcm91cGVkRmVhdHVyZXM7CiAgICAgICAgdmFyIGZlYXR1cmVzT25NYXAgPSBmZWF0dXJlcy5maWx0ZXIoZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIHJldHVybiBmLmxhdGxuZzsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZlYXR1cmVzT25NYXAubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIG1heFpvb21GaXQgPSA4OwoKICAgICAgICAgIGlmIChmZWF0dXJlc09uTWFwLmxlbmd0aCA9PT0gMSAmJiBmZWF0dXJlc09uTWFwWzBdLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0LnN1YkFvaSAmJiBmZWF0dXJlc09uTWFwWzBdLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0LnN1YkFvaS5mZWF0dXJlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBib3VuZHMgPSBnZW9Kc29uKGZlYXR1cmVzT25NYXBbMF0ucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3Quc3ViQW9pKS5nZXRCb3VuZHMoKTsKCiAgICAgICAgICAgICAgX3RoaXMzLm1hcC5maXRCb3VuZHMoYm91bmRzLCB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiBbMjUsIDI1XQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gX3RoaXMzLiRyZWZzLm1hcmtlcnMubWFwKGZ1bmN0aW9uIChjb21wb25lbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQubWFwT2JqZWN0OwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICB2YXIgZHVtbXlGdHJHcm91cCA9IGZlYXR1cmVHcm91cChtYXJrZXJzKTsKCiAgICAgICAgICAgICAgX3RoaXMzLm1hcC5maXRCb3VuZHMoZHVtbXlGdHJHcm91cC5nZXRCb3VuZHMoKSwgewogICAgICAgICAgICAgICAgcGFkZGluZzogWzI1LCAyNV0sCiAgICAgICAgICAgICAgICBtYXhab29tOiBtYXhab29tRml0CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RJbmRpY2F0b3I6IGZ1bmN0aW9uIHNlbGVjdEluZGljYXRvcihmZWF0dXJlKSB7CiAgICAgIHZhciBpbmRpY2F0b3JPYmplY3QgPSBmZWF0dXJlLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0OwoKICAgICAgaWYgKCFpbmRpY2F0b3JPYmplY3QuZHVtbXlGZWF0dXJlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpbmRpY2F0b3JzL1NFVF9TRUxFQ1RFRF9JTkRJQ0FUT1InLCBpbmRpY2F0b3JPYmplY3QpOwoKICAgICAgICB2YXIgcXVlcnkgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLiRyb3V0ZS5xdWVyeSk7CgogICAgICAgIGRlbGV0ZSBxdWVyeS5zZW5zb3I7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICB9CiAgICB9LAogICAgZ2V0Q29sb3I6IGZ1bmN0aW9uIGdldENvbG9yKGluZE9iaikgewogICAgICB2YXIgY29sb3JDb2RlOwoKICAgICAgaWYgKGluZE9iaikgewogICAgICAgIGlmIChpbmRPYmoudXBkYXRlRnJlcXVlbmN5ICYmIGluZE9iai51cGRhdGVGcmVxdWVuY3kudG9Mb3dlckNhc2UoKSA9PT0gJ2FyY2hpdmVkJykgewogICAgICAgICAgY29sb3JDb2RlID0gJ2dyZXknOwogICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluZE9iaiwgJ2xhc3RDb2xvckNvZGUnKSAmJiAhWycnLCAnLyddLmluY2x1ZGVzKGluZE9iai5sYXN0Q29sb3JDb2RlKSkgewogICAgICAgICAgY29sb3JDb2RlID0gaW5kT2JqLmxhc3RDb2xvckNvZGU7CiAgICAgICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5kT2JqLCAnaW5kaWNhdG9yJykgJiYgWydOMScsICdOMWEnLCAnTjFiJywgJ04zYicsICdFMTBhMycsICdFMTBhOCcsICdFMTBhOScsICdFMTJiJywgJ0MxJywgJ0MyJywgJ0MzJ10uaW5jbHVkZXMoaW5kT2JqLmluZGljYXRvcikpIHsKICAgICAgICAgIGNvbG9yQ29kZSA9ICdCTFVFJzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmdldEluZGljYXRvckNvbG9yKGNvbG9yQ29kZSk7CiAgICB9LAogICAgZm9ybWF0TGFiZWw6IGZ1bmN0aW9uIGZvcm1hdExhYmVsKGZlYXR1cmUpIHsKICAgICAgdmFyIGxhYmVsID0gJyhjb21pbmcgc29vbiknOwoKICAgICAgaWYgKGZlYXR1cmUpIHsKICAgICAgICB2YXIgaW5kaWNhdG9yT2JqZWN0ID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmluZGljYXRvck9iamVjdDsKCiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbmRpY2F0b3JPYmplY3QsICdsYXN0SW5kaWNhdG9yVmFsdWUnKSB8fCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5kaWNhdG9yT2JqZWN0LCAnbGFzdE1lYXN1cmVtZW50JykpIHsKICAgICAgICAgIGxhYmVsID0gJ0xhdGVzdCB2YWx1ZTogJzsKICAgICAgICAgIHZhciBpbmRWYWwgPSBpbmRpY2F0b3JPYmplY3QubGFzdEluZGljYXRvclZhbHVlICE9PSAnJyA/IGluZGljYXRvck9iamVjdC5sYXN0SW5kaWNhdG9yVmFsdWUgOiBpbmRpY2F0b3JPYmplY3QubGFzdE1lYXN1cmVtZW50OwoKICAgICAgICAgIGlmIChbJ0UxMGExJywgJ0UxMGE1J10uaW5jbHVkZXMoaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvcikpIHsKICAgICAgICAgICAgdmFyIHBlcmNWYWwgPSBOdW1iZXIoKGluZFZhbCAqIDEwMCkudG9QcmVjaXNpb24oNCkpOwoKICAgICAgICAgICAgaWYgKHBlcmNWYWwgPiAwKSB7CiAgICAgICAgICAgICAgbGFiZWwgKz0gIisiLmNvbmNhdChwZXJjVmFsLCAiJSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGxhYmVsICs9ICIiLmNvbmNhdChwZXJjVmFsLCAiJSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKFsnRTEwYTMnLCAnRTEwYTgnLCAnRTEwYTknLCAnTjRjJ10uaW5jbHVkZXMoaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvcikpIHsKICAgICAgICAgICAgbGFiZWwgKz0gJ211bHRpcGxlJzsKICAgICAgICAgIH0gZWxzZSBpZiAoWydFMTBhNicsICdFMTBhNyddLmluY2x1ZGVzKGluZGljYXRvck9iamVjdC5pbmRpY2F0b3IpKSB7CiAgICAgICAgICAgIHZhciBuZXdJbmRWYWwgPSBOdW1iZXIoaW5kaWNhdG9yT2JqZWN0Lmxhc3RNZWFzdXJlbWVudCkudG9QcmVjaXNpb24oNCk7CiAgICAgICAgICAgIGxhYmVsICs9ICIiLmNvbmNhdChuZXdJbmRWYWwsICIlIik7CiAgICAgICAgICB9IGVsc2UgaWYgKFsnTjEnLCAnTjNiJywgJ04xYicsICdFMTJiJywgJ0MxJywgJ0MyJywgJ0MzJ10uaW5jbHVkZXMoaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvcikpIHsKICAgICAgICAgICAgbGFiZWwgPSAnJzsKICAgICAgICAgIH0gZWxzZSBpZiAoaW5kVmFsID09PSBudWxsKSB7CiAgICAgICAgICAgIGxhYmVsID0gbnVsbDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxhYmVsICs9IGluZFZhbDsKICAgICAgICAgIH0KICAgICAgICB9IC8vIE92ZXJ3cml0ZSBsYWJlbCBpZiBhcmNoaXZlZAoKCiAgICAgICAgaWYgKGluZGljYXRvck9iamVjdC51cGRhdGVGcmVxdWVuY3kgJiYgaW5kaWNhdG9yT2JqZWN0LnVwZGF0ZUZyZXF1ZW5jeS50b0xvd2VyQ2FzZSgpID09PSAnYXJjaGl2ZWQnKSB7CiAgICAgICAgICBsYWJlbCA9ICdBcmNoaXZlZCc7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbGFiZWw7CiAgICB9LAogICAgcmVzZXRDbHVzdGVyTGF5ZXI6IGZ1bmN0aW9uIHJlc2V0Q2x1c3RlckxheWVyKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5jbHVzdGVyTGF5ZXIpIHsKICAgICAgICB0aGlzLiRyZWZzLmNsdXN0ZXJMYXllci5tYXBPYmplY3QucmVmcmVzaENsdXN0ZXJzKCk7CiAgICAgIH0KICAgIH0sCiAgICB6b29tVXBkYXRlZDogZnVuY3Rpb24gem9vbVVwZGF0ZWQoem9vbSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuem9vbSA9IHpvb207CiAgICAgIHRoaXMub25SZXNpemUoKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5yZXNldENsdXN0ZXJMYXllcigpOwogICAgICB9KTsKICAgIH0sCiAgICBjZW50ZXJVcGRhdGVkOiBmdW5jdGlvbiBjZW50ZXJVcGRhdGVkKGNlbnRlcikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyOwogICAgICB0aGlzLm9uUmVzaXplKCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUucmVzZXRDbHVzdGVyTGF5ZXIoKTsKICAgICAgfSk7CiAgICB9LAogICAgYm91bmRzVXBkYXRlZDogZnVuY3Rpb24gYm91bmRzVXBkYXRlZChib3VuZHMpIHsKICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7CiAgICAgIHRoaXMub25SZXNpemUoKTsKICAgIH0sCiAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7CiAgICAgIC8vIHRvIGZpeCBwYW5lbCBzaXplIGZvciByZWZlcmVuY2UgaW1hZ2Ugd2luZG93CiAgICAgIGlmICh0aGlzLm1hcCkgewogICAgICAgIHRoaXMubWFwLl9vblJlc2l6ZSgpOwogICAgICB9CiAgICB9LAogICAgbGF5ZXJPcHRpb25zOiBmdW5jdGlvbiBsYXllck9wdGlvbnModGltZSwgc291cmNlT3B0aW9uc09iaikgewogICAgICB2YXIgYWRkaXRpb25hbFNldHRpbmdzID0gewogICAgICAgIG1pblpvb206IHNvdXJjZU9wdGlvbnNPYmoubWluWm9vbSwKICAgICAgICBtYXhab29tOiBzb3VyY2VPcHRpb25zT2JqLm1heFpvb20sCiAgICAgICAgbWluTmF0aXZlWm9vbTogc291cmNlT3B0aW9uc09iai5taW5OYXRpdmVab29tLAogICAgICAgIG1heE5hdGl2ZVpvb206IHNvdXJjZU9wdGlvbnNPYmoubWF4TmF0aXZlWm9vbQogICAgICB9OwoKICAgICAgaWYgKHRpbWUgIT09IG51bGwpIHsKICAgICAgICAvLyB0aW1lIGFzIGlzIGdldHMgYXV0b21hdGljYWxseSBpbmplY3RlZCB0byBXTVMgcXVlcnkgT1IgeHl6IHVybCB7dGltZX0gdGVtcGxhdGUKICAgICAgICBhZGRpdGlvbmFsU2V0dGluZ3MudGltZSA9IHNvdXJjZU9wdGlvbnNPYmouZGF0ZUZvcm1hdEZ1bmN0aW9uID8gc291cmNlT3B0aW9uc09iai5kYXRlRm9ybWF0RnVuY3Rpb24odGltZSkgOiB0aW1lOwogICAgICB9CgogICAgICByZXR1cm4gYWRkaXRpb25hbFNldHRpbmdzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <l-map\n    ref=\"map\"\n    style=\"height: 100%; width: 100%; background: #cad2d3; z-index: 1\"\n    :options=\"defaultMapOptions\"\n    :zoom=\"zoom\"\n    :center=\"center\"\n    :maxZoom=\"maxMapZoom\"\n    :minMapZoom=\"minMapZoom\"\n    @update:zoom=\"zoomUpdated\"\n    @update:center=\"centerUpdated\"\n    @update:bounds=\"boundsUpdated\"\n  >\n    <l-control-attribution position=\"bottomright\" prefix=''></l-control-attribution>\n    <l-control-layers position=\"topright\"></l-control-layers>\n    <l-control-zoom position=\"topright\"></l-control-zoom>\n    <LTileLayer\n      v-for=\"layer in baseLayers.filter(b => b.protocol === 'xyz')\"\n      :key=\"layer.name\"\n      v-bind=\"layer\"\n      layer-type=\"base\"\n      :opacity=\"opacityTerrain[zoom]\"\n      :options=\"layerOptions(null, layer)\"\n    >\n    </LTileLayer>\n    <LWMSTileLayer\n      v-for=\"layer in baseLayers.filter(b => b.protocol === 'WMS')\"\n      :key=\"layer.name\"\n      v-bind=\"layer\"\n      :options=\"layerOptions(null, layer)\"\n      layer-type=\"base\"\n    >\n    </LWMSTileLayer>\n    <l-geo-json\n    :geojson=\"countriesJson\"\n    :optionsStyle=\"countriesStyle\"\n    name=\"Country vectors\"\n    layer-type=\"overlay\"\n    >\n    </l-geo-json>\n    <l-geo-json\n    ref=\"subaoiLayer\"\n    :geojson=\"subAoi\"\n    :optionsStyle=\"subAoiStyle\">\n    </l-geo-json>\n    <LTileLayer\n      v-for=\"layer in overlayLayers.filter(b => b.protocol === 'xyz')\"\n      :key=\"layer.name\"\n      v-bind=\"layer\"\n      layer-type=\"overlay\"\n      :opacity=\"opacityOverlay[zoom]\"\n      :options=\"layerOptions(null, layer)\"\n    >\n    </LTileLayer>\n    <LWMSTileLayer\n      v-for=\"layer in overlayLayers.filter(b => b.protocol === 'WMS')\"\n      v-bind=\"layer\"\n      :key=\"layer.name\"\n      :options=\"layerOptions(null, layer)\"\n      :opacity=\"opacityOverlay[zoom]\"\n      layer-type=\"overlay\"\n    >\n    </LWMSTileLayer>\n    <l-marker-cluster ref=\"clusterLayer\" :options=\"clusterOptions\">\n      <l-marker v-for=\"(feature) in getGroupedFeatures.filter((f) => f.latlng)\"\n        :key=\"feature.id\"\n        ref=\"markers\"\n        :lat-lng=\"feature.latlng\"\n        :name='`${getLocationCode(feature.properties.indicatorObject)}`'\n        @click=\"selectIndicator(feature)\"\n      >\n        <l-icon\n          :icon-anchor=\"currentSelected === getLocationCode(feature.properties.indicatorObject)\n            ? [18, 18]\n            : [14, 14]\"\n          style=\"outline: none;\"\n        >\n          <div\n            :style=\"`display: flex; align-items: center;\n              justify-content: center;\n              border-radius: 50%;\n              border: 2px ${currentSelected ===\n                getLocationCode(feature.properties.indicatorObject)\n                  ? 'dashed var(--v-primary-base)'\n                  : 'solid white'};\n              width: ${currentSelected ===\n                getLocationCode(feature.properties.indicatorObject) ? '36px' : '28px'};\n              height: ${currentSelected ===\n                getLocationCode(feature.properties.indicatorObject) ? '36px' : '28px'};\n              background-color: ${getColor(feature.properties.indicatorObject)}`\"\n          >\n              <v-icon\n                color=\"white\"\n                class=\"pa-1\"\n                icon-url=\"/test\"\n                :small=\"currentSelected !== getLocationCode(feature.properties.indicatorObject)\"\n              >\n                {{ baseConfig.indicatorClassesIcons[baseConfig\n                    .indicatorsDefinition[feature.properties.indicatorObject.indicator].class]\n                    ? baseConfig.indicatorClassesIcons[baseConfig\n                      .indicatorsDefinition[feature.properties.indicatorObject.indicator].class]\n                    : 'mdi-lightbulb-on-outline'}}\n              </v-icon>\n          </div>\n        </l-icon>\n        <l-tooltip class=\"tooltip text-center\" :options=\"{ direction: 'top' }\">\n          <p class=\"ma-0\">\n            <strong>{{ feature.properties.indicatorObject.city }}</strong>\n          </p>\n            <p class=\"ma-0\" v-if=\"baseConfig.indicatorsDefinition[\n              feature.properties.indicatorObject.indicator\n              ].indicatorOverwrite\">\n              <strong>{{ baseConfig.indicatorsDefinition[\n                feature.properties.indicatorObject.indicator\n              ].indicatorOverwrite}}\n              </strong>\n            </p>\n            <p class=\"ma-0\" v-else>\n              <strong>{{ feature.properties.indicatorObject.description }}</strong>\n            </p>\n            <p\n              class=\"ma-0\"\n            >\n              {{ formatLabel(feature) }}\n            </p>\n        </l-tooltip>\n      </l-marker>\n    </l-marker-cluster>\n  </l-map>\n</template>\n\n<script>\nimport {\n  mapGetters,\n  mapState,\n} from 'vuex';\n\nimport {\n  geoJson, Point, DivIcon, featureGroup,\n} from 'leaflet';\nimport {\n  LMap, LTileLayer, LWMSTileLayer, LGeoJson, LMarker, LIcon, LTooltip,\n  LControlLayers, LControlAttribution, LControlZoom,\n} from 'vue2-leaflet';\nimport Vue2LeafletMarkerCluster from 'vue2-leaflet-markercluster';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.css'; // eslint-disable-line import/no-extraneous-dependencies\nimport 'leaflet.markercluster/dist/MarkerCluster.Default.css'; // eslint-disable-line import/no-extraneous-dependencies\nimport 'leaflet-mouse-position';\n\nimport countries from '@/assets/countries.json';\n\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n    LWMSTileLayer,\n    LGeoJson,\n    LMarker,\n    LIcon,\n    LTooltip,\n    LControlLayers,\n    LControlAttribution,\n    LControlZoom,\n    'l-marker-cluster': Vue2LeafletMarkerCluster,\n  },\n  data() {\n    return {\n      map: null,\n      minMapZoom: 3,\n      zoom: 3,\n      maxMapZoom: 14,\n      center: [55, 10],\n      bounds: null,\n      currentSelected: null,\n      currentSelectedIndex: null,\n      subAoi: null,\n      defaultMapOptions: {\n        attributionControl: false,\n        zoomControl: false,\n      },\n      opacityTerrain: [1],\n      opacityOverlay: [0, 0, 0, 0, 0, 0, 0.4, 0.4, 0.8, 0.8, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9],\n      opacityCountries: [1, 1, 1, 1, 0.7, 0.7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    };\n  },\n  computed: {\n    ...mapGetters('features', ['getGroupedFeatures']),\n    ...mapState('config', ['appConfig', 'baseConfig']),\n    baseLayers() {\n      return this.baseConfig.baseLayersLeftMap;\n    },\n    overlayLayers() {\n      return this.baseConfig.overlayLayersLeftMap;\n    },\n    countriesJson() {\n      return countries;\n    },\n    clusterOptions() {\n      return {\n        maxClusterRadius: 40,\n        animate: false,\n        // zoomToBoundsOnClick: false,\n        iconCreateFunction: function (cluster) { // eslint-disable-line func-names\n          // left as default\n          let selCluster = null;\n          if (this.currentSelected !== null && this.$refs.clusterLayer) {\n            const selectedMarker = this.$refs.markers.find(\n              (item) => item.name === this.currentSelected,\n            );\n            if (selectedMarker) {\n              selCluster = this.$refs.clusterLayer.mapObject.getVisibleParent(\n                selectedMarker.mapObject,\n              );\n            }\n          }\n          // modified selected cluster style\n          const sel = selCluster !== null ? cluster._leaflet_id === selCluster._leaflet_id : false;\n          const selectedClass = sel ? ' marker-cluster-selected' : '';\n          let iconSize = null;\n          if (sel) {\n            iconSize = new Point(48, 48);\n          } else {\n            iconSize = new Point(40, 40);\n          }\n          const childCount = cluster.getChildCount();\n          return new DivIcon({\n            html: `<div class=\"${selectedClass}\"><span>${childCount}</span></div>`,\n            className: `marker-cluster ${selectedClass}`,\n            iconSize,\n          });\n        }.bind(this),\n        polygonOptions: {\n          fillColor: this.$vuetify.theme.themes.light.primary,\n          color: this.$vuetify.theme.themes.light.primary,\n          weight: 0.5,\n          opacity: 1,\n          fillOpacity: 0.3,\n          dashArray: 4,\n        },\n      };\n    },\n    indicatorsDefinition: () => this.baseConfig.indicatorsDefinition,\n    countriesStyle() {\n      return {\n        color: '#a2a2a2',\n        weight: 1,\n        fillColor: '#fff',\n        opacity: this.opacityCountries[this.zoom],\n        fillOpacity: this.opacityCountries[this.zoom],\n      };\n    },\n    subAoiStyle() {\n      let currentIndicator;\n      let fillColor;\n      if (this.$store.state.indicators.selectedIndicator) {\n        currentIndicator = this.$store.state.indicators.selectedIndicator;\n        fillColor = this.getColor(currentIndicator);\n      } else {\n        fillColor = this.getIndicatorColor('');\n      }\n      return {\n        color: '#fff',\n        weight: 1,\n        fillColor,\n        opacity: 1,\n        fillOpacity: 0.5,\n      };\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const layerButton = document.querySelector('.leaflet-control-layers-toggle');\n      layerButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"${this.appConfig.branding.primaryColor}\" width=\"32px\" height=\"32px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"/></svg>`;\n\n      this.map = this.$refs.map.mapObject;\n\n      this.$refs.subaoiLayer.mapObject.bindTooltip('Reference area', {\n        direction: 'top',\n      });\n\n      // update leaflet controls\n      L.control.mousePosition({ // eslint-disable-line no-undef\n        emptyString: '',\n        formatter: (lon, lat) => `${lon.toFixed(3)}, ${lat.toFixed(3)}`,\n        position: 'bottomright',\n      }).addTo(this.map);\n      // hide attribution under icon\n      this.map.attributionControl._update = function () { // eslint-disable-line\n        const attribs = [];\n        const kk = Object.keys(this._attributions);\n        for (let i = 0; i < kk.length; i += 1) {\n          if (this._attributions[kk[i]]) {\n            attribs.push(kk[i]);\n          }\n        }\n        const prefixAndAttribs = [];\n        if (this.options.prefix) {\n          prefixAndAttribs.push(this.options.prefix);\n        }\n        if (attribs.length) {\n          prefixAndAttribs.push(attribs.join(', '));\n        }\n        this._container.innerHTML = `<div class='attribution-body'>${prefixAndAttribs.join(' | ')}</div><div class='attribution-icon'>ℹ</div>`;\n      };\n      this.map.attributionControl._update();\n      this.onResize();\n    });\n    this.$store.subscribe((mutation) => {\n      if (mutation.type === 'indicators/INDICATOR_LOAD_FINISHED') {\n        if (mutation.payload !== null && mutation.payload.aoi !== null) {\n          this.currentSelected = this.getLocationCode(mutation.payload);\n          if (mutation.payload.subAoi) {\n            this.subAoi = mutation.payload.subAoi;\n          }\n        } else {\n          this.currentSelected = null;\n          this.subAoi = {\n            type: 'FeatureCollection',\n            features: [],\n          };\n        }\n        this.resetClusterLayer();\n      } else if (mutation.type === 'features/SET_FEATURE_FILTER') {\n        if (Object.keys(mutation.payload).includes('includeArchived') && Object.keys(mutation.payload).length === 1) {\n          return;\n        }\n\n        const features = this.getGroupedFeatures;\n        const featuresOnMap = features.filter((f) => f.latlng);\n        if (featuresOnMap.length > 0) {\n          const maxZoomFit = 8;\n          if (featuresOnMap.length === 1 && featuresOnMap[0].properties.indicatorObject.subAoi\n          && featuresOnMap[0].properties.indicatorObject.subAoi.features.length > 0) {\n            this.$nextTick(() => {\n              const bounds = geoJson(\n                featuresOnMap[0].properties.indicatorObject.subAoi,\n              ).getBounds();\n              this.map.fitBounds(bounds, {\n                padding: [25, 25],\n              });\n            });\n          } else {\n            this.$nextTick(() => {\n              const markers = this.$refs.markers.map((component) => component.mapObject);\n              const dummyFtrGroup = featureGroup(markers);\n              this.map.fitBounds(dummyFtrGroup.getBounds(), {\n                padding: [25, 25],\n                maxZoom: maxZoomFit,\n              });\n            });\n          }\n        }\n      }\n    });\n  },\n  methods: {\n    selectIndicator(feature) {\n      const { indicatorObject } = feature.properties;\n      if (!indicatorObject.dummyFeature) {\n        this.$store.commit('indicators/SET_SELECTED_INDICATOR', indicatorObject);\n        const query = { ...this.$route.query };\n        delete query.sensor;\n        this.$router.replace({ query }).catch(() => {});\n      }\n    },\n    getColor(indObj) {\n      let colorCode;\n      if (indObj) {\n        if (indObj.updateFrequency && indObj.updateFrequency.toLowerCase() === 'archived') {\n          colorCode = 'grey';\n        } else if (Object.prototype.hasOwnProperty.call(indObj, 'lastColorCode')\n          && !['', '/'].includes(indObj.lastColorCode)) {\n          colorCode = indObj.lastColorCode;\n        } else if (Object.prototype.hasOwnProperty.call(indObj, 'indicator')\n          && ['N1', 'N1a', 'N1b', 'N3b', 'E10a3', 'E10a8', 'E10a9', 'E12b', 'C1', 'C2', 'C3']\n            .includes(indObj.indicator)) {\n          colorCode = 'BLUE';\n        }\n      }\n      return this.getIndicatorColor(colorCode);\n    },\n    formatLabel(feature) {\n      let label = '(coming soon)';\n      if (feature) {\n        const { indicatorObject } = feature.properties;\n        if (Object.prototype.hasOwnProperty.call(indicatorObject, 'lastIndicatorValue') || Object.prototype.hasOwnProperty.call(indicatorObject, 'lastMeasurement')) {\n          label = 'Latest value: ';\n          const indVal = indicatorObject.lastIndicatorValue !== '' ? indicatorObject.lastIndicatorValue : indicatorObject.lastMeasurement;\n          if (['E10a1', 'E10a5'].includes(indicatorObject.indicator)) {\n            const percVal = Number((indVal * 100).toPrecision(4));\n            if (percVal > 0) {\n              label += `+${percVal}%`;\n            } else {\n              label += `${percVal}%`;\n            }\n          } else if (['E10a3', 'E10a8', 'E10a9', 'N4c'].includes(indicatorObject.indicator)) {\n            label += 'multiple';\n          } else if (['E10a6', 'E10a7'].includes(indicatorObject.indicator)) {\n            const newIndVal = Number(indicatorObject.lastMeasurement).toPrecision(4);\n            label += `${newIndVal}%`;\n          } else if (['N1', 'N3b', 'N1b', 'E12b', 'C1', 'C2', 'C3'].includes(indicatorObject.indicator)) {\n            label = '';\n          } else if (indVal === null) {\n            label = null;\n          } else {\n            label += indVal;\n          }\n        }\n\n        // Overwrite label if archived\n        if (indicatorObject.updateFrequency && indicatorObject.updateFrequency.toLowerCase() === 'archived') {\n          label = 'Archived';\n        }\n      }\n\n      return label;\n    },\n    resetClusterLayer() {\n      if (this.$refs.clusterLayer) {\n        this.$refs.clusterLayer.mapObject.refreshClusters();\n      }\n    },\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n      this.onResize();\n      this.$nextTick(() => {\n        this.resetClusterLayer();\n      });\n    },\n    centerUpdated(center) {\n      this.center = center;\n      this.onResize();\n      this.$nextTick(() => {\n        this.resetClusterLayer();\n      });\n    },\n    boundsUpdated(bounds) {\n      this.bounds = bounds;\n      this.onResize();\n    },\n    onResize() {\n      // to fix panel size for reference image window\n      if (this.map) {\n        this.map._onResize();\n      }\n    },\n    layerOptions(time, sourceOptionsObj) {\n      const additionalSettings = {\n        minZoom: sourceOptionsObj.minZoom,\n        maxZoom: sourceOptionsObj.maxZoom,\n        minNativeZoom: sourceOptionsObj.minNativeZoom,\n        maxNativeZoom: sourceOptionsObj.maxNativeZoom,\n      };\n      if (time !== null) {\n        // time as is gets automatically injected to WMS query OR xyz url {time} template\n        additionalSettings.time = sourceOptionsObj.dateFormatFunction\n          ? sourceOptionsObj.dateFormatFunction(time)\n          : time;\n      }\n      return additionalSettings;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .leaflet-tooltip-top {\n  background: #00000099;\n  border-radius: 3px;\n  color: #fff;\n  pointer-events: none;\n  white-space: nowrap;\n  border: none;\n  &:before {\n    border-top-color: #00000099;\n  }\n}\n::v-deep .marker-cluster {\n  // TO-DO find a way how to get the primary color into this\n  // background-color: rgba(var(--primary-less));\n  background-color: rgba(#003247, 0.5);\n  div {\n    background-color: var(--v-primary-base);\n    span {\n      color: white;\n    }\n    &.marker-cluster-selected {\n      margin-left: 3px;\n      margin-top: 3px;\n      width: 38px;\n      height: 38px;\n      border-radius: 19px;\n      & span {\n        line-height: 38px;\n        font-size: 14px;\n      }\n    }\n  }\n  &.marker-cluster-selected {\n    border: 2px var(--v-primary-base) dashed;\n  }\n}\n::v-deep .leaflet-control-attribution:active :not(.attribution-icon),\n::v-deep .leaflet-control-attribution:hover :not(.attribution-icon),\n::v-deep .leaflet-control-attribution .attribution-icon {\n  display: inline-block;\n}\n::v-deep .leaflet-control-attribution :not(.attribution-icon),\n::v-deep .leaflet-control-attribution:active .attribution-icon,\n::v-deep .leaflet-control-attribution:hover .attribution-icon {\n  display: none;\n}\n::v-deep .attribution-icon {\n  font-size: 1.2em;\n  margin: 1px;\n}\n::v-deep .leaflet-control-mouseposition {\n  background-color: rgba(255, 255, 255, 0.8);\n  transform: translate3d(-8px, 32px, 0);\n  padding: 2px 4px;\n}\n::v-deep .leaflet-bar a, ::v-deep .leaflet-control-attribution {\n  color: var(--v-primary-base) !important;\n}\n::v-deep .leaflet-control-layers-toggle {\n  background-image: none;\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}