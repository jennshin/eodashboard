{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/babel-loader/lib/index.js!/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/src/components/NewsCarousel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/src/components/NewsCarousel.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/babel-loader/lib/index.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50U2xpZGU6IDAsCiAgICAgIGF1dG9QbGF5SWZyYW1lOiBmYWxzZSwKICAgICAgaXRlbXM6IHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5hcHBDb25maWcubmV3c0Nhcm91c2VsaXRlbXMKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrSXRlbTogZnVuY3Rpb24gb25DbGlja0l0ZW0oaXRlbSkgewogICAgICB2YXIgcG9pID0gaXRlbS5wb2k7CgogICAgICBpZiAocG9pKSB7CiAgICAgICAgdmFyIGFvaUlkID0gcG9pLnNwbGl0KCctJylbMF07CiAgICAgICAgdmFyIGluZGljYXRvckNvZGUgPSBwb2kuc3BsaXQoJy0nKVsxXTsKICAgICAgICB2YXIgc2VsZWN0ZWRGZWF0dXJlID0gdGhpcy4kc3RvcmUuc3RhdGUuZmVhdHVyZXMuYWxsRmVhdHVyZXMuZmluZChmdW5jdGlvbiAoZikgewogICAgICAgICAgdmFyIGluZGljYXRvck9iamVjdCA9IGYucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3Q7CiAgICAgICAgICByZXR1cm4gaW5kaWNhdG9yT2JqZWN0LmFvaUlEID09PSBhb2lJZCAmJiBpbmRpY2F0b3JPYmplY3QuaW5kaWNhdG9yID09PSBpbmRpY2F0b3JDb2RlOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaW5kaWNhdG9ycy9TRVRfU0VMRUNURURfSU5ESUNBVE9SJywgc2VsZWN0ZWRGZWF0dXJlLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0KTsKICAgICAgfQogICAgfSwKICAgIG9uQ2xpY2tJZnJhbWU6IGZ1bmN0aW9uIG9uQ2xpY2tJZnJhbWUoKSB7CiAgICAgIHRoaXMuYXV0b1BsYXlJZnJhbWUgPSB0cnVlOwogICAgfSwKICAgIGlmcmFtZVNyYzogZnVuY3Rpb24gaWZyYW1lU3JjKHNyYykgewogICAgICB2YXIgbmV3U3JjOwoKICAgICAgaWYgKHRoaXMuYXV0b1BsYXlJZnJhbWUpIHsKICAgICAgICBuZXdTcmMgPSAiIi5jb25jYXQoc3JjLCAiP2F1dG9wbGF5PTEiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXdTcmMgPSBzcmM7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXdTcmM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFNsaWRlOiBmdW5jdGlvbiBjdXJyZW50U2xpZGUoKSB7CiAgICAgIGlmICh0aGlzLmF1dG9QbGF5SWZyYW1lKSB7CiAgICAgICAgdGhpcy5hdXRvUGxheUlmcmFtZSA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["NewsCarousel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,CADA;AAEA,MAAA,cAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,SAAA,CAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,IADA,EACA;AACA,UAAA,GAAA,GAAA,IAAA,CAAA,GAAA;;AACA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,YAAA,aAAA,GAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,YAAA,eAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,WAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,eAAA,GAAA,CAAA,CAAA,UAAA,CAAA,eAAA;AACA,iBAAA,eAAA,CAAA,KAAA,KAAA,KAAA,IACA,eAAA,CAAA,SAAA,KAAA,aADA;AAEA,SAJA,CAAA;AAKA,aAAA,MAAA,CAAA,MAAA,CAAA,mCAAA,EAAA,eAAA,CAAA,UAAA,CAAA,eAAA;AACA;AACA,KAbA;AAcA,IAAA,aAdA,2BAcA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAhBA;AAiBA,IAAA,SAjBA,qBAiBA,GAjBA,EAiBA;AACA,UAAA,MAAA;;AACA,UAAA,KAAA,cAAA,EAAA;AACA,QAAA,MAAA,aAAA,GAAA,gBAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,GAAA,GAAA;AACA;;AACA,aAAA,MAAA;AACA;AAzBA,GARA;AAmCA,EAAA,KAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,KAAA,cAAA,EAAA;AACA,aAAA,cAAA,GAAA,KAAA;AACA;AACA;AALA;AAnCA,CAAA","sourcesContent":["<template>\n  <v-carousel\n    v-model=\"currentSlide\"\n    continuous\n    :cycle=\"!autoPlayIframe\"\n    height=\"auto\"\n    hide-delimiter-background\n    :hide-delimiters=\"autoPlayIframe\"\n    show-arrows-on-hover\n    :style=\"`background: ${$vuetify.theme.themes.light.primary}`\"\n  >\n    <v-hover>\n      <template v-slot:default=\"{ hover }\">\n        <div>\n          <v-carousel-item\n            v-for=\"(item, i) in items\"\n            :key=\"i\"\n            :aspect-ratio=\"16/9\"\n            :src=\"item.src && item.src\"\n          >\n            <iframe\n              v-if=\"item.iframe\"\n              :src=\"iframeSrc(item.iframe)\"\n              width=\"100%\"\n              height=\"100%\"\n              allowfullscreen\n              frameborder=\"0\"\n              @click=\"autoPlayIframe = true\"\n              :class=\"!autoPlayIframe && 'untouchable'\"\n            ></iframe>\n            <v-btn\n              v-if=\"item.iframe && !autoPlayIframe\"\n              fab x-large\n              @click=\"onClickIframe(item)\"\n              color=\"primary\"\n              class=\"playButton\"\n            >\n              <v-icon>mdi-play</v-icon>\n            </v-btn>\n            <v-fade-transition>\n              <v-overlay\n                v-if=\"hover && !autoPlayIframe\"\n                absolute\n                :color=\"$vuetify.theme.themes.light.primary\"\n              >\n                <v-btn\n                  v-if=\"!item.iframe\"\n                  @click=\"onClickItem(item)\"\n                  color=\"primary\"\n                >View indicator</v-btn>\n              </v-overlay>\n            </v-fade-transition>\n          </v-carousel-item>\n        </div>\n      </template>\n    </v-hover>\n  </v-carousel>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      currentSlide: 0,\n      autoPlayIframe: false,\n      items: this.$store.state.config.appConfig.newsCarouselitems,\n    };\n  },\n  methods: {\n    onClickItem(item) {\n      const { poi } = item;\n      if (poi) {\n        const aoiId = poi.split('-')[0];\n        const indicatorCode = poi.split('-')[1];\n        const selectedFeature = this.$store.state.features.allFeatures.find((f) => {\n          const { indicatorObject } = f.properties;\n          return indicatorObject.aoiID === aoiId\n            && indicatorObject.indicator === indicatorCode;\n        });\n        this.$store.commit('indicators/SET_SELECTED_INDICATOR', selectedFeature.properties.indicatorObject);\n      }\n    },\n    onClickIframe() {\n      this.autoPlayIframe = true;\n    },\n    iframeSrc(src) {\n      let newSrc;\n      if (this.autoPlayIframe) {\n        newSrc = `${src}?autoplay=1`;\n      } else {\n        newSrc = src;\n      }\n      return newSrc;\n    },\n  },\n  watch: {\n    currentSlide() {\n      if (this.autoPlayIframe) {\n        this.autoPlayIframe = false;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .v-responsive__content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.playButton {\n  position: absolute;\n  z-index: 999;\n}\n</style>\n"],"sourceRoot":"src/components"}]}