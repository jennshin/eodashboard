{"remainingRequest":"/Users/8ps/Downloads/eodash-staging/app/node_modules/babel-loader/lib/index.js!/Users/8ps/Downloads/eodash-staging/app/node_modules/vuetify-loader/lib/loader.js??ref--19-0!/Users/8ps/Downloads/eodash-staging/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/8ps/Downloads/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/8ps/Downloads/eodash-staging/app/src/components/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/8ps/Downloads/eodash-staging/app/src/components/Map.vue","mtime":1624532486000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvOHBzL0Rvd25sb2Fkcy9lb2Rhc2gtc3RhZ2luZy9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwoKdmFyIF90aGlzMiA9IHRoaXM7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZW9Kc29uLCBQb2ludCwgRGl2SWNvbiwgZmVhdHVyZUdyb3VwIH0gZnJvbSAnbGVhZmxldCc7CmltcG9ydCB7IExNYXAsIExUaWxlTGF5ZXIsIExXTVNUaWxlTGF5ZXIsIExHZW9Kc29uLCBMTWFya2VyLCBMSWNvbiwgTFRvb2x0aXAsIExDb250cm9sTGF5ZXJzLCBMQ29udHJvbEF0dHJpYnV0aW9uLCBMQ29udHJvbFpvb20gfSBmcm9tICd2dWUyLWxlYWZsZXQnOwppbXBvcnQgVnVlMkxlYWZsZXRNYXJrZXJDbHVzdGVyIGZyb20gJ3Z1ZTItbGVhZmxldC1tYXJrZXJjbHVzdGVyJzsKaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnOwppbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuY3NzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMKCmltcG9ydCAnbGVhZmxldC5tYXJrZXJjbHVzdGVyL2Rpc3QvTWFya2VyQ2x1c3Rlci5EZWZhdWx0LmNzcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzCgppbXBvcnQgJ2xlYWZsZXQtbW91c2UtcG9zaXRpb24nOwppbXBvcnQgY291bnRyaWVzIGZyb20gJ0AvYXNzZXRzL2NvdW50cmllcy5qc29uJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExNYXA6IExNYXAsCiAgICBMVGlsZUxheWVyOiBMVGlsZUxheWVyLAogICAgTFdNU1RpbGVMYXllcjogTFdNU1RpbGVMYXllciwKICAgIExHZW9Kc29uOiBMR2VvSnNvbiwKICAgIExNYXJrZXI6IExNYXJrZXIsCiAgICBMSWNvbjogTEljb24sCiAgICBMVG9vbHRpcDogTFRvb2x0aXAsCiAgICBMQ29udHJvbExheWVyczogTENvbnRyb2xMYXllcnMsCiAgICBMQ29udHJvbEF0dHJpYnV0aW9uOiBMQ29udHJvbEF0dHJpYnV0aW9uLAogICAgTENvbnRyb2xab29tOiBMQ29udHJvbFpvb20sCiAgICAnbC1tYXJrZXItY2x1c3Rlcic6IFZ1ZTJMZWFmbGV0TWFya2VyQ2x1c3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hcDogbnVsbCwKICAgICAgbWluTWFwWm9vbTogMywKICAgICAgem9vbTogMywKICAgICAgbWF4TWFwWm9vbTogMTQsCiAgICAgIGNlbnRlcjogWzU1LCAxMF0sCiAgICAgIGJvdW5kczogbnVsbCwKICAgICAgY3VycmVudFNlbGVjdGVkOiBudWxsLAogICAgICBjdXJyZW50U2VsZWN0ZWRJbmRleDogbnVsbCwKICAgICAgc3ViQW9pOiBudWxsLAogICAgICBkZWZhdWx0TWFwT3B0aW9uczogewogICAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogZmFsc2UsCiAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlCiAgICAgIH0sCiAgICAgIG9wYWNpdHlUZXJyYWluOiBbMV0sCiAgICAgIG9wYWNpdHlPdmVybGF5OiBbMCwgMCwgMCwgMCwgMCwgMCwgMC40LCAwLjQsIDAuOCwgMC44LCAwLjksIDAuOSwgMC45LCAwLjksIDAuOSwgMC45LCAwLjldLAogICAgICBvcGFjaXR5Q291bnRyaWVzOiBbMSwgMSwgMSwgMSwgMC43LCAwLjcsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCdmZWF0dXJlcycsIFsnZ2V0R3JvdXBlZEZlYXR1cmVzJ10pKSwgbWFwU3RhdGUoJ2NvbmZpZycsIFsnYXBwQ29uZmlnJywgJ2Jhc2VDb25maWcnXSkpLCB7fSwgewogICAgYmFzZUxheWVyczogZnVuY3Rpb24gYmFzZUxheWVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuYmFzZUNvbmZpZy5iYXNlTGF5ZXJzTGVmdE1hcDsKICAgIH0sCiAgICBvdmVybGF5TGF5ZXJzOiBmdW5jdGlvbiBvdmVybGF5TGF5ZXJzKCkgewogICAgICByZXR1cm4gdGhpcy5iYXNlQ29uZmlnLm92ZXJsYXlMYXllcnNMZWZ0TWFwOwogICAgfSwKICAgIGNvdW50cmllc0pzb246IGZ1bmN0aW9uIGNvdW50cmllc0pzb24oKSB7CiAgICAgIHJldHVybiBjb3VudHJpZXM7CiAgICB9LAogICAgY2x1c3Rlck9wdGlvbnM6IGZ1bmN0aW9uIGNsdXN0ZXJPcHRpb25zKCkgewogICAgICByZXR1cm4gewogICAgICAgIG1heENsdXN0ZXJSYWRpdXM6IDQwLAogICAgICAgIGFuaW1hdGU6IGZhbHNlLAogICAgICAgIC8vIHpvb21Ub0JvdW5kc09uQ2xpY2s6IGZhbHNlLAogICAgICAgIGljb25DcmVhdGVGdW5jdGlvbjogZnVuY3Rpb24gKGNsdXN0ZXIpIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWVzCiAgICAgICAgICAvLyBsZWZ0IGFzIGRlZmF1bHQKICAgICAgICAgIHZhciBzZWxDbHVzdGVyID0gbnVsbDsKCiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U2VsZWN0ZWQgIT09IG51bGwgJiYgdGhpcy4kcmVmcy5jbHVzdGVyTGF5ZXIpIHsKICAgICAgICAgICAgdmFyIHNlbGVjdGVkTWFya2VyID0gdGhpcy4kcmVmcy5tYXJrZXJzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSBfdGhpcy5jdXJyZW50U2VsZWN0ZWQ7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKHNlbGVjdGVkTWFya2VyKSB7CiAgICAgICAgICAgICAgc2VsQ2x1c3RlciA9IHRoaXMuJHJlZnMuY2x1c3RlckxheWVyLm1hcE9iamVjdC5nZXRWaXNpYmxlUGFyZW50KHNlbGVjdGVkTWFya2VyLm1hcE9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gbW9kaWZpZWQgc2VsZWN0ZWQgY2x1c3RlciBzdHlsZQoKCiAgICAgICAgICB2YXIgc2VsID0gc2VsQ2x1c3RlciAhPT0gbnVsbCA/IGNsdXN0ZXIuX2xlYWZsZXRfaWQgPT09IHNlbENsdXN0ZXIuX2xlYWZsZXRfaWQgOiBmYWxzZTsKICAgICAgICAgIHZhciBzZWxlY3RlZENsYXNzID0gc2VsID8gJyBtYXJrZXItY2x1c3Rlci1zZWxlY3RlZCcgOiAnJzsKICAgICAgICAgIHZhciBpY29uU2l6ZSA9IG51bGw7CgogICAgICAgICAgaWYgKHNlbCkgewogICAgICAgICAgICBpY29uU2l6ZSA9IG5ldyBQb2ludCg0OCwgNDgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWNvblNpemUgPSBuZXcgUG9pbnQoNDAsIDQwKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgY2hpbGRDb3VudCA9IGNsdXN0ZXIuZ2V0Q2hpbGRDb3VudCgpOwogICAgICAgICAgcmV0dXJuIG5ldyBEaXZJY29uKHsKICAgICAgICAgICAgaHRtbDogIjxkaXYgY2xhc3M9XCIiLmNvbmNhdChzZWxlY3RlZENsYXNzLCAiXCI+PHNwYW4+IikuY29uY2F0KGNoaWxkQ291bnQsICI8L3NwYW4+PC9kaXY+IiksCiAgICAgICAgICAgIGNsYXNzTmFtZTogIm1hcmtlci1jbHVzdGVyICIuY29uY2F0KHNlbGVjdGVkQ2xhc3MpLAogICAgICAgICAgICBpY29uU2l6ZTogaWNvblNpemUKICAgICAgICAgIH0pOwogICAgICAgIH0uYmluZCh0aGlzKSwKICAgICAgICBwb2x5Z29uT3B0aW9uczogewogICAgICAgICAgZmlsbENvbG9yOiB0aGlzLiR2dWV0aWZ5LnRoZW1lLnRoZW1lcy5saWdodC5wcmltYXJ5LAogICAgICAgICAgY29sb3I6IHRoaXMuJHZ1ZXRpZnkudGhlbWUudGhlbWVzLmxpZ2h0LnByaW1hcnksCiAgICAgICAgICB3ZWlnaHQ6IDAuNSwKICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICBmaWxsT3BhY2l0eTogMC4zLAogICAgICAgICAgZGFzaEFycmF5OiA0CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGluZGljYXRvcnNEZWZpbml0aW9uOiBmdW5jdGlvbiBpbmRpY2F0b3JzRGVmaW5pdGlvbigpIHsKICAgICAgcmV0dXJuIF90aGlzMi5iYXNlQ29uZmlnLmluZGljYXRvcnNEZWZpbml0aW9uOwogICAgfSwKICAgIGNvdW50cmllc1N0eWxlOiBmdW5jdGlvbiBjb3VudHJpZXNTdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBjb2xvcjogJyNhMmEyYTInLAogICAgICAgIHdlaWdodDogMSwKICAgICAgICBmaWxsQ29sb3I6ICcjZmZmJywKICAgICAgICBvcGFjaXR5OiB0aGlzLm9wYWNpdHlDb3VudHJpZXNbdGhpcy56b29tXSwKICAgICAgICBmaWxsT3BhY2l0eTogdGhpcy5vcGFjaXR5Q291bnRyaWVzW3RoaXMuem9vbV0KICAgICAgfTsKICAgIH0sCiAgICBzdWJBb2lTdHlsZTogZnVuY3Rpb24gc3ViQW9pU3R5bGUoKSB7CiAgICAgIHZhciBjdXJyZW50SW5kaWNhdG9yOwogICAgICB2YXIgZmlsbENvbG9yOwoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmluZGljYXRvcnMuc2VsZWN0ZWRJbmRpY2F0b3IpIHsKICAgICAgICBjdXJyZW50SW5kaWNhdG9yID0gdGhpcy4kc3RvcmUuc3RhdGUuaW5kaWNhdG9ycy5zZWxlY3RlZEluZGljYXRvcjsKICAgICAgICBmaWxsQ29sb3IgPSB0aGlzLmdldENvbG9yKGN1cnJlbnRJbmRpY2F0b3IpOwogICAgICB9IGVsc2UgewogICAgICAgIGZpbGxDb2xvciA9IHRoaXMuZ2V0SW5kaWNhdG9yQ29sb3IoJycpOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGNvbG9yOiAnI2ZmZicsCiAgICAgICAgd2VpZ2h0OiAxLAogICAgICAgIGZpbGxDb2xvcjogZmlsbENvbG9yLAogICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgZmlsbE9wYWNpdHk6IDAuNQogICAgICB9OwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBsYXllckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXRvZ2dsZScpOwogICAgICBsYXllckJ1dHRvbi5pbm5lckhUTUwgPSAiPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCIiLmNvbmNhdChfdGhpczMuYXBwQ29uZmlnLmJyYW5kaW5nLnByaW1hcnlDb2xvciwgIlwiIHdpZHRoPVwiMzJweFwiIGhlaWdodD1cIjMycHhcIj48cGF0aCBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjxwYXRoIGQ9XCJNMTEuOTkgMTguNTRsLTcuMzctNS43M0wzIDE0LjA3bDkgNyA5LTctMS42My0xLjI3LTcuMzggNS43NHpNMTIgMTZsNy4zNi01LjczTDIxIDlsLTktNy05IDcgMS42MyAxLjI3TDEyIDE2elwiLz48L3N2Zz4iKTsKICAgICAgX3RoaXMzLm1hcCA9IF90aGlzMy4kcmVmcy5tYXAubWFwT2JqZWN0OwoKICAgICAgX3RoaXMzLiRyZWZzLnN1YmFvaUxheWVyLm1hcE9iamVjdC5iaW5kVG9vbHRpcCgnUmVmZXJlbmNlIGFyZWEnLCB7CiAgICAgICAgZGlyZWN0aW9uOiAndG9wJwogICAgICB9KTsgLy8gdXBkYXRlIGxlYWZsZXQgY29udHJvbHMKCgogICAgICBMLmNvbnRyb2wubW91c2VQb3NpdGlvbih7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZgogICAgICAgIGVtcHR5U3RyaW5nOiAnJywKICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcihsb24sIGxhdCkgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChsb24udG9GaXhlZCgzKSwgIiwgIikuY29uY2F0KGxhdC50b0ZpeGVkKDMpKTsKICAgICAgICB9LAogICAgICAgIHBvc2l0aW9uOiAnYm90dG9tcmlnaHQnCiAgICAgIH0pLmFkZFRvKF90aGlzMy5tYXApOyAvLyBoaWRlIGF0dHJpYnV0aW9uIHVuZGVyIGljb24KCiAgICAgIF90aGlzMy5tYXAuYXR0cmlidXRpb25Db250cm9sLl91cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgIHZhciBhdHRyaWJzID0gW107CiAgICAgICAgdmFyIGtrID0gT2JqZWN0LmtleXModGhpcy5fYXR0cmlidXRpb25zKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBray5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgaWYgKHRoaXMuX2F0dHJpYnV0aW9uc1tra1tpXV0pIHsKICAgICAgICAgICAgYXR0cmlicy5wdXNoKGtrW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBwcmVmaXhBbmRBdHRyaWJzID0gW107CgogICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJlZml4KSB7CiAgICAgICAgICBwcmVmaXhBbmRBdHRyaWJzLnB1c2godGhpcy5vcHRpb25zLnByZWZpeCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYXR0cmlicy5sZW5ndGgpIHsKICAgICAgICAgIHByZWZpeEFuZEF0dHJpYnMucHVzaChhdHRyaWJzLmpvaW4oJywgJykpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9ICI8ZGl2IGNsYXNzPSdhdHRyaWJ1dGlvbi1ib2R5Jz4iLmNvbmNhdChwcmVmaXhBbmRBdHRyaWJzLmpvaW4oJyB8ICcpLCAiPC9kaXY+PGRpdiBjbGFzcz0nYXR0cmlidXRpb24taWNvbic+XHUyMTM5PC9kaXY+Iik7CiAgICAgIH07CgogICAgICBfdGhpczMubWFwLmF0dHJpYnV0aW9uQ29udHJvbC5fdXBkYXRlKCk7CgogICAgICBfdGhpczMub25SZXNpemUoKTsKICAgIH0pOwogICAgdGhpcy4kc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2luZGljYXRvcnMvSU5ESUNBVE9SX0xPQURfRklOSVNIRUQnKSB7CiAgICAgICAgaWYgKG11dGF0aW9uLnBheWxvYWQgIT09IG51bGwgJiYgbXV0YXRpb24ucGF5bG9hZC5hb2kgIT09IG51bGwpIHsKICAgICAgICAgIF90aGlzMy5jdXJyZW50U2VsZWN0ZWQgPSBfdGhpczMuZ2V0TG9jYXRpb25Db2RlKG11dGF0aW9uLnBheWxvYWQpOwoKICAgICAgICAgIGlmIChtdXRhdGlvbi5wYXlsb2FkLnN1YkFvaSkgewogICAgICAgICAgICBfdGhpczMuc3ViQW9pID0gbXV0YXRpb24ucGF5bG9hZC5zdWJBb2k7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy5jdXJyZW50U2VsZWN0ZWQgPSBudWxsOwogICAgICAgICAgX3RoaXMzLnN1YkFvaSA9IHsKICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJywKICAgICAgICAgICAgZmVhdHVyZXM6IFtdCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLnJlc2V0Q2x1c3RlckxheWVyKCk7CiAgICAgIH0gZWxzZSBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2ZlYXR1cmVzL1NFVF9GRUFUVVJFX0ZJTFRFUicpIHsKICAgICAgICBpZiAoT2JqZWN0LmtleXMobXV0YXRpb24ucGF5bG9hZCkuaW5jbHVkZXMoJ2luY2x1ZGVBcmNoaXZlZCcpICYmIE9iamVjdC5rZXlzKG11dGF0aW9uLnBheWxvYWQpLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGZlYXR1cmVzID0gX3RoaXMzLmdldEdyb3VwZWRGZWF0dXJlczsKICAgICAgICB2YXIgZmVhdHVyZXNPbk1hcCA9IGZlYXR1cmVzLmZpbHRlcihmdW5jdGlvbiAoZikgewogICAgICAgICAgcmV0dXJuIGYubGF0bG5nOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZmVhdHVyZXNPbk1hcC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgbWF4Wm9vbUZpdCA9IDg7CgogICAgICAgICAgaWYgKGZlYXR1cmVzT25NYXAubGVuZ3RoID09PSAxICYmIGZlYXR1cmVzT25NYXBbMF0ucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3Quc3ViQW9pICYmIGZlYXR1cmVzT25NYXBbMF0ucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3Quc3ViQW9pLmZlYXR1cmVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgX3RoaXMzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IGdlb0pzb24oZmVhdHVyZXNPbk1hcFswXS5wcm9wZXJ0aWVzLmluZGljYXRvck9iamVjdC5zdWJBb2kpLmdldEJvdW5kcygpOwoKICAgICAgICAgICAgICBfdGhpczMubWFwLmZpdEJvdW5kcyhib3VuZHMsIHsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IFsyNSwgMjVdCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBfdGhpczMuJHJlZnMubWFya2Vycy5tYXAoZnVuY3Rpb24gKGNvbXBvbmVudCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5tYXBPYmplY3Q7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHZhciBkdW1teUZ0ckdyb3VwID0gZmVhdHVyZUdyb3VwKG1hcmtlcnMpOwoKICAgICAgICAgICAgICBfdGhpczMubWFwLmZpdEJvdW5kcyhkdW1teUZ0ckdyb3VwLmdldEJvdW5kcygpLCB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiBbMjUsIDI1XSwKICAgICAgICAgICAgICAgIG1heFpvb206IG1heFpvb21GaXQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEluZGljYXRvcjogZnVuY3Rpb24gc2VsZWN0SW5kaWNhdG9yKGZlYXR1cmUpIHsKICAgICAgdmFyIGluZGljYXRvck9iamVjdCA9IGZlYXR1cmUucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3Q7CgogICAgICBpZiAoIWluZGljYXRvck9iamVjdC5kdW1teUZlYXR1cmUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luZGljYXRvcnMvU0VUX1NFTEVDVEVEX0lORElDQVRPUicsIGluZGljYXRvck9iamVjdCk7CgogICAgICAgIHZhciBxdWVyeSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuJHJvdXRlLnF1ZXJ5KTsKCiAgICAgICAgZGVsZXRlIHF1ZXJ5LnNlbnNvcjsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRDb2xvcjogZnVuY3Rpb24gZ2V0Q29sb3IoaW5kT2JqKSB7CiAgICAgIHZhciBjb2xvckNvZGU7CgogICAgICBpZiAoaW5kT2JqKSB7CiAgICAgICAgaWYgKGluZE9iai51cGRhdGVGcmVxdWVuY3kgJiYgaW5kT2JqLnVwZGF0ZUZyZXF1ZW5jeS50b0xvd2VyQ2FzZSgpID09PSAnYXJjaGl2ZWQnKSB7CiAgICAgICAgICBjb2xvckNvZGUgPSAnZ3JleSc7CiAgICAgICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5kT2JqLCAnbGFzdENvbG9yQ29kZScpICYmICFbJycsICcvJ10uaW5jbHVkZXMoaW5kT2JqLmxhc3RDb2xvckNvZGUpKSB7CiAgICAgICAgICBjb2xvckNvZGUgPSBpbmRPYmoubGFzdENvbG9yQ29kZTsKICAgICAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbmRPYmosICdpbmRpY2F0b3InKSAmJiBbJ04xJywgJ04xYScsICdOMWInLCAnTjNiJywgJ0UxMGEzJywgJ0UxMGE4JywgJ0UxMGE5JywgJ0UxMmInLCAnQzEnLCAnQzInLCAnQzMnXS5pbmNsdWRlcyhpbmRPYmouaW5kaWNhdG9yKSkgewogICAgICAgICAgY29sb3JDb2RlID0gJ0JMVUUnOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5kaWNhdG9yQ29sb3IoY29sb3JDb2RlKTsKICAgIH0sCiAgICBmb3JtYXRMYWJlbDogZnVuY3Rpb24gZm9ybWF0TGFiZWwoZmVhdHVyZSkgewogICAgICB2YXIgbGFiZWwgPSAnKGNvbWluZyBzb29uKSc7CgogICAgICBpZiAoZmVhdHVyZSkgewogICAgICAgIHZhciBpbmRpY2F0b3JPYmplY3QgPSBmZWF0dXJlLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0OwoKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluZGljYXRvck9iamVjdCwgJ2xhc3RJbmRpY2F0b3JWYWx1ZScpIHx8IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbmRpY2F0b3JPYmplY3QsICdsYXN0TWVhc3VyZW1lbnQnKSkgewogICAgICAgICAgbGFiZWwgPSAnTGF0ZXN0IHZhbHVlOiAnOwogICAgICAgICAgdmFyIGluZFZhbCA9IGluZGljYXRvck9iamVjdC5sYXN0SW5kaWNhdG9yVmFsdWUgIT09ICcnID8gaW5kaWNhdG9yT2JqZWN0Lmxhc3RJbmRpY2F0b3JWYWx1ZSA6IGluZGljYXRvck9iamVjdC5sYXN0TWVhc3VyZW1lbnQ7CgogICAgICAgICAgaWYgKFsnRTEwYTEnLCAnRTEwYTUnXS5pbmNsdWRlcyhpbmRpY2F0b3JPYmplY3QuaW5kaWNhdG9yKSkgewogICAgICAgICAgICB2YXIgcGVyY1ZhbCA9IE51bWJlcigoaW5kVmFsICogMTAwKS50b1ByZWNpc2lvbig0KSk7CgogICAgICAgICAgICBpZiAocGVyY1ZhbCA+IDApIHsKICAgICAgICAgICAgICBsYWJlbCArPSAiKyIuY29uY2F0KHBlcmNWYWwsICIlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbGFiZWwgKz0gIiIuY29uY2F0KHBlcmNWYWwsICIlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoWydFMTBhMycsICdFMTBhOCcsICdFMTBhOScsICdONGMnXS5pbmNsdWRlcyhpbmRpY2F0b3JPYmplY3QuaW5kaWNhdG9yKSkgewogICAgICAgICAgICBsYWJlbCArPSAnbXVsdGlwbGUnOwogICAgICAgICAgfSBlbHNlIGlmIChbJ0UxMGE2JywgJ0UxMGE3J10uaW5jbHVkZXMoaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvcikpIHsKICAgICAgICAgICAgdmFyIG5ld0luZFZhbCA9IE51bWJlcihpbmRpY2F0b3JPYmplY3QubGFzdE1lYXN1cmVtZW50KS50b1ByZWNpc2lvbig0KTsKICAgICAgICAgICAgbGFiZWwgKz0gIiIuY29uY2F0KG5ld0luZFZhbCwgIiUiKTsKICAgICAgICAgIH0gZWxzZSBpZiAoWydOMScsICdOM2InLCAnTjFiJywgJ0UxMmInLCAnQzEnLCAnQzInLCAnQzMnXS5pbmNsdWRlcyhpbmRpY2F0b3JPYmplY3QuaW5kaWNhdG9yKSkgewogICAgICAgICAgICBsYWJlbCA9ICcnOwogICAgICAgICAgfSBlbHNlIGlmIChpbmRWYWwgPT09IG51bGwpIHsKICAgICAgICAgICAgbGFiZWwgPSBudWxsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGFiZWwgKz0gaW5kVmFsOwogICAgICAgICAgfQogICAgICAgIH0gLy8gT3ZlcndyaXRlIGxhYmVsIGlmIGFyY2hpdmVkCgoKICAgICAgICBpZiAoaW5kaWNhdG9yT2JqZWN0LnVwZGF0ZUZyZXF1ZW5jeSAmJiBpbmRpY2F0b3JPYmplY3QudXBkYXRlRnJlcXVlbmN5LnRvTG93ZXJDYXNlKCkgPT09ICdhcmNoaXZlZCcpIHsKICAgICAgICAgIGxhYmVsID0gJ0FyY2hpdmVkJzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0sCiAgICByZXNldENsdXN0ZXJMYXllcjogZnVuY3Rpb24gcmVzZXRDbHVzdGVyTGF5ZXIoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmNsdXN0ZXJMYXllcikgewogICAgICAgIHRoaXMuJHJlZnMuY2x1c3RlckxheWVyLm1hcE9iamVjdC5yZWZyZXNoQ2x1c3RlcnMoKTsKICAgICAgfQogICAgfSwKICAgIHpvb21VcGRhdGVkOiBmdW5jdGlvbiB6b29tVXBkYXRlZCh6b29tKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy56b29tID0gem9vbTsKICAgICAgdGhpcy5vblJlc2l6ZSgpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnJlc2V0Q2x1c3RlckxheWVyKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGNlbnRlclVwZGF0ZWQ6IGZ1bmN0aW9uIGNlbnRlclVwZGF0ZWQoY2VudGVyKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7CiAgICAgIHRoaXMub25SZXNpemUoKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS5yZXNldENsdXN0ZXJMYXllcigpOwogICAgICB9KTsKICAgIH0sCiAgICBib3VuZHNVcGRhdGVkOiBmdW5jdGlvbiBib3VuZHNVcGRhdGVkKGJvdW5kcykgewogICAgICB0aGlzLmJvdW5kcyA9IGJvdW5kczsKICAgICAgdGhpcy5vblJlc2l6ZSgpOwogICAgfSwKICAgIG9uUmVzaXplOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHsKICAgICAgLy8gdG8gZml4IHBhbmVsIHNpemUgZm9yIHJlZmVyZW5jZSBpbWFnZSB3aW5kb3cKICAgICAgaWYgKHRoaXMubWFwKSB7CiAgICAgICAgdGhpcy5tYXAuX29uUmVzaXplKCk7CiAgICAgIH0KICAgIH0sCiAgICBsYXllck9wdGlvbnM6IGZ1bmN0aW9uIGxheWVyT3B0aW9ucyh0aW1lLCBzb3VyY2VPcHRpb25zT2JqKSB7CiAgICAgIHZhciBhZGRpdGlvbmFsU2V0dGluZ3MgPSB7CiAgICAgICAgbWluWm9vbTogc291cmNlT3B0aW9uc09iai5taW5ab29tLAogICAgICAgIG1heFpvb206IHNvdXJjZU9wdGlvbnNPYmoubWF4Wm9vbSwKICAgICAgICBtaW5OYXRpdmVab29tOiBzb3VyY2VPcHRpb25zT2JqLm1pbk5hdGl2ZVpvb20sCiAgICAgICAgbWF4TmF0aXZlWm9vbTogc291cmNlT3B0aW9uc09iai5tYXhOYXRpdmVab29tCiAgICAgIH07CgogICAgICBpZiAodGltZSAhPT0gbnVsbCkgewogICAgICAgIC8vIHRpbWUgYXMgaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IGluamVjdGVkIHRvIFdNUyBxdWVyeSBPUiB4eXogdXJsIHt0aW1lfSB0ZW1wbGF0ZQogICAgICAgIGFkZGl0aW9uYWxTZXR0aW5ncy50aW1lID0gc291cmNlT3B0aW9uc09iai5kYXRlRm9ybWF0RnVuY3Rpb24gPyBzb3VyY2VPcHRpb25zT2JqLmRhdGVGb3JtYXRGdW5jdGlvbih0aW1lKSA6IHRpbWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBhZGRpdGlvbmFsU2V0dGluZ3M7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <l-map\n    ref=\"map\"\n    style=\"height: 100%; width: 100%; background: #cad2d3; z-index: 1\"\n    :options=\"defaultMapOptions\"\n    :zoom=\"zoom\"\n    :center=\"center\"\n    :maxZoom=\"maxMapZoom\"\n    :minMapZoom=\"minMapZoom\"\n    @update:zoom=\"zoomUpdated\"\n    @update:center=\"centerUpdated\"\n    @update:bounds=\"boundsUpdated\"\n  >\n    <l-control-attribution position=\"bottomright\" prefix=''></l-control-attribution>\n    <l-control-layers position=\"topright\"></l-control-layers>\n    <l-control-zoom position=\"topright\"></l-control-zoom>\n    <LTileLayer\n      v-for=\"layer in baseLayers.filter(b => b.protocol === 'xyz')\"\n      :key=\"layer.name\"\n      v-bind=\"layer\"\n      layer-type=\"base\"\n      :opacity=\"opacityTerrain[zoom]\"\n      :options=\"layerOptions(null, layer)\"\n    >\n    </LTileLayer>\n    <LWMSTileLayer\n      v-for=\"layer in baseLayers.filter(b => b.protocol === 'WMS')\"\n      :key=\"layer.name\"\n      v-bind=\"layer\"\n      :options=\"layerOptions(null, layer)\"\n      layer-type=\"base\"\n    >\n    </LWMSTileLayer>\n    <l-geo-json\n    :geojson=\"countriesJson\"\n    :optionsStyle=\"countriesStyle\"\n    name=\"Country vectors\"\n    layer-type=\"overlay\"\n    >\n    </l-geo-json>\n    <l-geo-json\n    ref=\"subaoiLayer\"\n    :geojson=\"subAoi\"\n    :optionsStyle=\"subAoiStyle\">\n    </l-geo-json>\n    <LTileLayer\n      v-for=\"layer in overlayLayers.filter(b => b.protocol === 'xyz')\"\n      :key=\"layer.name\"\n      v-bind=\"layer\"\n      layer-type=\"overlay\"\n      :opacity=\"opacityOverlay[zoom]\"\n      :options=\"layerOptions(null, layer)\"\n    >\n    </LTileLayer>\n    <LWMSTileLayer\n      v-for=\"layer in overlayLayers.filter(b => b.protocol === 'WMS')\"\n      v-bind=\"layer\"\n      :key=\"layer.name\"\n      :options=\"layerOptions(null, layer)\"\n      :opacity=\"opacityOverlay[zoom]\"\n      layer-type=\"overlay\"\n    >\n    </LWMSTileLayer>\n    <l-marker-cluster ref=\"clusterLayer\" :options=\"clusterOptions\">\n      <l-marker v-for=\"(feature) in getGroupedFeatures.filter((f) => f.latlng)\"\n        :key=\"feature.id\"\n        ref=\"markers\"\n        :lat-lng=\"feature.latlng\"\n        :name='`${getLocationCode(feature.properties.indicatorObject)}`'\n        @click=\"selectIndicator(feature)\"\n      >\n        <l-icon\n          :icon-anchor=\"currentSelected === getLocationCode(feature.properties.indicatorObject)\n            ? [18, 18]\n            : [14, 14]\"\n          style=\"outline: none;\"\n        >\n          <div\n            :style=\"`display: flex; align-items: center;\n              justify-content: center;\n              border-radius: 50%;\n              border: 2px ${currentSelected ===\n                getLocationCode(feature.properties.indicatorObject)\n                  ? 'dashed var(--v-primary-base)'\n                  : 'solid white'};\n              width: ${currentSelected ===\n                getLocationCode(feature.properties.indicatorObject) ? '36px' : '28px'};\n              height: ${currentSelected ===\n                getLocationCode(feature.properties.indicatorObject) ? '36px' : '28px'};\n              background-color: ${getColor(feature.properties.indicatorObject)}`\"\n          >\n              <v-icon\n                color=\"white\"\n                class=\"pa-1\"\n                icon-url=\"/test\"\n                :small=\"currentSelected !== getLocationCode(feature.properties.indicatorObject)\"\n              >\n                {{ baseConfig.indicatorClassesIcons[baseConfig\n                    .indicatorsDefinition[feature.properties.indicatorObject.indicator].class]\n                    ? baseConfig.indicatorClassesIcons[baseConfig\n                      .indicatorsDefinition[feature.properties.indicatorObject.indicator].class]\n                    : 'mdi-lightbulb-on-outline'}}\n              </v-icon>\n          </div>\n        </l-icon>\n        <l-tooltip class=\"tooltip text-center\" :options=\"{ direction: 'top' }\">\n          <p class=\"ma-0\">\n            <strong>{{ feature.properties.indicatorObject.city }}</strong>\n          </p>\n            <p class=\"ma-0\" v-if=\"baseConfig.indicatorsDefinition[\n              feature.properties.indicatorObject.indicator\n              ].indicatorOverwrite\">\n              <strong>{{ baseConfig.indicatorsDefinition[\n                feature.properties.indicatorObject.indicator\n              ].indicatorOverwrite}}\n              </strong>\n            </p>\n            <p class=\"ma-0\" v-else>\n              <strong>{{ feature.properties.indicatorObject.description }}</strong>\n            </p>\n            <p\n              class=\"ma-0\"\n            >\n              {{ formatLabel(feature) }}\n            </p>\n        </l-tooltip>\n      </l-marker>\n    </l-marker-cluster>\n  </l-map>\n</template>\n\n<script>\nimport {\n  mapGetters,\n  mapState,\n} from 'vuex';\n\nimport {\n  geoJson, Point, DivIcon, featureGroup,\n} from 'leaflet';\nimport {\n  LMap, LTileLayer, LWMSTileLayer, LGeoJson, LMarker, LIcon, LTooltip,\n  LControlLayers, LControlAttribution, LControlZoom,\n} from 'vue2-leaflet';\nimport Vue2LeafletMarkerCluster from 'vue2-leaflet-markercluster';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.css'; // eslint-disable-line import/no-extraneous-dependencies\nimport 'leaflet.markercluster/dist/MarkerCluster.Default.css'; // eslint-disable-line import/no-extraneous-dependencies\nimport 'leaflet-mouse-position';\n\nimport countries from '@/assets/countries.json';\n\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n    LWMSTileLayer,\n    LGeoJson,\n    LMarker,\n    LIcon,\n    LTooltip,\n    LControlLayers,\n    LControlAttribution,\n    LControlZoom,\n    'l-marker-cluster': Vue2LeafletMarkerCluster,\n  },\n  data() {\n    return {\n      map: null,\n      minMapZoom: 3,\n      zoom: 3,\n      maxMapZoom: 14,\n      center: [55, 10],\n      bounds: null,\n      currentSelected: null,\n      currentSelectedIndex: null,\n      subAoi: null,\n      defaultMapOptions: {\n        attributionControl: false,\n        zoomControl: false,\n      },\n      opacityTerrain: [1],\n      opacityOverlay: [0, 0, 0, 0, 0, 0, 0.4, 0.4, 0.8, 0.8, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9],\n      opacityCountries: [1, 1, 1, 1, 0.7, 0.7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    };\n  },\n  computed: {\n    ...mapGetters('features', ['getGroupedFeatures']),\n    ...mapState('config', ['appConfig', 'baseConfig']),\n    baseLayers() {\n      return this.baseConfig.baseLayersLeftMap;\n    },\n    overlayLayers() {\n      return this.baseConfig.overlayLayersLeftMap;\n    },\n    countriesJson() {\n      return countries;\n    },\n    clusterOptions() {\n      return {\n        maxClusterRadius: 40,\n        animate: false,\n        // zoomToBoundsOnClick: false,\n        iconCreateFunction: function (cluster) { // eslint-disable-line func-names\n          // left as default\n          let selCluster = null;\n          if (this.currentSelected !== null && this.$refs.clusterLayer) {\n            const selectedMarker = this.$refs.markers.find(\n              (item) => item.name === this.currentSelected,\n            );\n            if (selectedMarker) {\n              selCluster = this.$refs.clusterLayer.mapObject.getVisibleParent(\n                selectedMarker.mapObject,\n              );\n            }\n          }\n          // modified selected cluster style\n          const sel = selCluster !== null ? cluster._leaflet_id === selCluster._leaflet_id : false;\n          const selectedClass = sel ? ' marker-cluster-selected' : '';\n          let iconSize = null;\n          if (sel) {\n            iconSize = new Point(48, 48);\n          } else {\n            iconSize = new Point(40, 40);\n          }\n          const childCount = cluster.getChildCount();\n          return new DivIcon({\n            html: `<div class=\"${selectedClass}\"><span>${childCount}</span></div>`,\n            className: `marker-cluster ${selectedClass}`,\n            iconSize,\n          });\n        }.bind(this),\n        polygonOptions: {\n          fillColor: this.$vuetify.theme.themes.light.primary,\n          color: this.$vuetify.theme.themes.light.primary,\n          weight: 0.5,\n          opacity: 1,\n          fillOpacity: 0.3,\n          dashArray: 4,\n        },\n      };\n    },\n    indicatorsDefinition: () => this.baseConfig.indicatorsDefinition,\n    countriesStyle() {\n      return {\n        color: '#a2a2a2',\n        weight: 1,\n        fillColor: '#fff',\n        opacity: this.opacityCountries[this.zoom],\n        fillOpacity: this.opacityCountries[this.zoom],\n      };\n    },\n    subAoiStyle() {\n      let currentIndicator;\n      let fillColor;\n      if (this.$store.state.indicators.selectedIndicator) {\n        currentIndicator = this.$store.state.indicators.selectedIndicator;\n        fillColor = this.getColor(currentIndicator);\n      } else {\n        fillColor = this.getIndicatorColor('');\n      }\n      return {\n        color: '#fff',\n        weight: 1,\n        fillColor,\n        opacity: 1,\n        fillOpacity: 0.5,\n      };\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const layerButton = document.querySelector('.leaflet-control-layers-toggle');\n      layerButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"${this.appConfig.branding.primaryColor}\" width=\"32px\" height=\"32px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"/></svg>`;\n\n      this.map = this.$refs.map.mapObject;\n\n      this.$refs.subaoiLayer.mapObject.bindTooltip('Reference area', {\n        direction: 'top',\n      });\n\n      // update leaflet controls\n      L.control.mousePosition({ // eslint-disable-line no-undef\n        emptyString: '',\n        formatter: (lon, lat) => `${lon.toFixed(3)}, ${lat.toFixed(3)}`,\n        position: 'bottomright',\n      }).addTo(this.map);\n      // hide attribution under icon\n      this.map.attributionControl._update = function () { // eslint-disable-line\n        const attribs = [];\n        const kk = Object.keys(this._attributions);\n        for (let i = 0; i < kk.length; i += 1) {\n          if (this._attributions[kk[i]]) {\n            attribs.push(kk[i]);\n          }\n        }\n        const prefixAndAttribs = [];\n        if (this.options.prefix) {\n          prefixAndAttribs.push(this.options.prefix);\n        }\n        if (attribs.length) {\n          prefixAndAttribs.push(attribs.join(', '));\n        }\n        this._container.innerHTML = `<div class='attribution-body'>${prefixAndAttribs.join(' | ')}</div><div class='attribution-icon'>ℹ</div>`;\n      };\n      this.map.attributionControl._update();\n      this.onResize();\n    });\n    this.$store.subscribe((mutation) => {\n      if (mutation.type === 'indicators/INDICATOR_LOAD_FINISHED') {\n        if (mutation.payload !== null && mutation.payload.aoi !== null) {\n          this.currentSelected = this.getLocationCode(mutation.payload);\n          if (mutation.payload.subAoi) {\n            this.subAoi = mutation.payload.subAoi;\n          }\n        } else {\n          this.currentSelected = null;\n          this.subAoi = {\n            type: 'FeatureCollection',\n            features: [],\n          };\n        }\n        this.resetClusterLayer();\n      } else if (mutation.type === 'features/SET_FEATURE_FILTER') {\n        if (Object.keys(mutation.payload).includes('includeArchived') && Object.keys(mutation.payload).length === 1) {\n          return;\n        }\n\n        const features = this.getGroupedFeatures;\n        const featuresOnMap = features.filter((f) => f.latlng);\n        if (featuresOnMap.length > 0) {\n          const maxZoomFit = 8;\n          if (featuresOnMap.length === 1 && featuresOnMap[0].properties.indicatorObject.subAoi\n          && featuresOnMap[0].properties.indicatorObject.subAoi.features.length > 0) {\n            this.$nextTick(() => {\n              const bounds = geoJson(\n                featuresOnMap[0].properties.indicatorObject.subAoi,\n              ).getBounds();\n              this.map.fitBounds(bounds, {\n                padding: [25, 25],\n              });\n            });\n          } else {\n            this.$nextTick(() => {\n              const markers = this.$refs.markers.map((component) => component.mapObject);\n              const dummyFtrGroup = featureGroup(markers);\n              this.map.fitBounds(dummyFtrGroup.getBounds(), {\n                padding: [25, 25],\n                maxZoom: maxZoomFit,\n              });\n            });\n          }\n        }\n      }\n    });\n  },\n  methods: {\n    selectIndicator(feature) {\n      const { indicatorObject } = feature.properties;\n      if (!indicatorObject.dummyFeature) {\n        this.$store.commit('indicators/SET_SELECTED_INDICATOR', indicatorObject);\n        const query = { ...this.$route.query };\n        delete query.sensor;\n        this.$router.replace({ query }).catch(() => {});\n      }\n    },\n    getColor(indObj) {\n      let colorCode;\n      if (indObj) {\n        if (indObj.updateFrequency && indObj.updateFrequency.toLowerCase() === 'archived') {\n          colorCode = 'grey';\n        } else if (Object.prototype.hasOwnProperty.call(indObj, 'lastColorCode')\n          && !['', '/'].includes(indObj.lastColorCode)) {\n          colorCode = indObj.lastColorCode;\n        } else if (Object.prototype.hasOwnProperty.call(indObj, 'indicator')\n          && ['N1', 'N1a', 'N1b', 'N3b', 'E10a3', 'E10a8', 'E10a9', 'E12b', 'C1', 'C2', 'C3']\n            .includes(indObj.indicator)) {\n          colorCode = 'BLUE';\n        }\n      }\n      return this.getIndicatorColor(colorCode);\n    },\n    formatLabel(feature) {\n      let label = '(coming soon)';\n      if (feature) {\n        const { indicatorObject } = feature.properties;\n        if (Object.prototype.hasOwnProperty.call(indicatorObject, 'lastIndicatorValue') || Object.prototype.hasOwnProperty.call(indicatorObject, 'lastMeasurement')) {\n          label = 'Latest value: ';\n          const indVal = indicatorObject.lastIndicatorValue !== '' ? indicatorObject.lastIndicatorValue : indicatorObject.lastMeasurement;\n          if (['E10a1', 'E10a5'].includes(indicatorObject.indicator)) {\n            const percVal = Number((indVal * 100).toPrecision(4));\n            if (percVal > 0) {\n              label += `+${percVal}%`;\n            } else {\n              label += `${percVal}%`;\n            }\n          } else if (['E10a3', 'E10a8', 'E10a9', 'N4c'].includes(indicatorObject.indicator)) {\n            label += 'multiple';\n          } else if (['E10a6', 'E10a7'].includes(indicatorObject.indicator)) {\n            const newIndVal = Number(indicatorObject.lastMeasurement).toPrecision(4);\n            label += `${newIndVal}%`;\n          } else if (['N1', 'N3b', 'N1b', 'E12b', 'C1', 'C2', 'C3'].includes(indicatorObject.indicator)) {\n            label = '';\n          } else if (indVal === null) {\n            label = null;\n          } else {\n            label += indVal;\n          }\n        }\n\n        // Overwrite label if archived\n        if (indicatorObject.updateFrequency && indicatorObject.updateFrequency.toLowerCase() === 'archived') {\n          label = 'Archived';\n        }\n      }\n\n      return label;\n    },\n    resetClusterLayer() {\n      if (this.$refs.clusterLayer) {\n        this.$refs.clusterLayer.mapObject.refreshClusters();\n      }\n    },\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n      this.onResize();\n      this.$nextTick(() => {\n        this.resetClusterLayer();\n      });\n    },\n    centerUpdated(center) {\n      this.center = center;\n      this.onResize();\n      this.$nextTick(() => {\n        this.resetClusterLayer();\n      });\n    },\n    boundsUpdated(bounds) {\n      this.bounds = bounds;\n      this.onResize();\n    },\n    onResize() {\n      // to fix panel size for reference image window\n      if (this.map) {\n        this.map._onResize();\n      }\n    },\n    layerOptions(time, sourceOptionsObj) {\n      const additionalSettings = {\n        minZoom: sourceOptionsObj.minZoom,\n        maxZoom: sourceOptionsObj.maxZoom,\n        minNativeZoom: sourceOptionsObj.minNativeZoom,\n        maxNativeZoom: sourceOptionsObj.maxNativeZoom,\n      };\n      if (time !== null) {\n        // time as is gets automatically injected to WMS query OR xyz url {time} template\n        additionalSettings.time = sourceOptionsObj.dateFormatFunction\n          ? sourceOptionsObj.dateFormatFunction(time)\n          : time;\n      }\n      return additionalSettings;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .leaflet-tooltip-top {\n  background: #00000099;\n  border-radius: 3px;\n  color: #fff;\n  pointer-events: none;\n  white-space: nowrap;\n  border: none;\n  &:before {\n    border-top-color: #00000099;\n  }\n}\n::v-deep .marker-cluster {\n  // TO-DO find a way how to get the primary color into this\n  // background-color: rgba(var(--primary-less));\n  background-color: rgba(#003247, 0.5);\n  div {\n    background-color: var(--v-primary-base);\n    span {\n      color: white;\n    }\n    &.marker-cluster-selected {\n      margin-left: 3px;\n      margin-top: 3px;\n      width: 38px;\n      height: 38px;\n      border-radius: 19px;\n      & span {\n        line-height: 38px;\n        font-size: 14px;\n      }\n    }\n  }\n  &.marker-cluster-selected {\n    border: 2px var(--v-primary-base) dashed;\n  }\n}\n::v-deep .leaflet-control-attribution:active :not(.attribution-icon),\n::v-deep .leaflet-control-attribution:hover :not(.attribution-icon),\n::v-deep .leaflet-control-attribution .attribution-icon {\n  display: inline-block;\n}\n::v-deep .leaflet-control-attribution :not(.attribution-icon),\n::v-deep .leaflet-control-attribution:active .attribution-icon,\n::v-deep .leaflet-control-attribution:hover .attribution-icon {\n  display: none;\n}\n::v-deep .attribution-icon {\n  font-size: 1.2em;\n  margin: 1px;\n}\n::v-deep .leaflet-control-mouseposition {\n  background-color: rgba(255, 255, 255, 0.8);\n  transform: translate3d(-8px, 32px, 0);\n  padding: 2px 4px;\n}\n::v-deep .leaflet-bar a, ::v-deep .leaflet-control-attribution {\n  color: var(--v-primary-base) !important;\n}\n::v-deep .leaflet-control-layers-toggle {\n  background-image: none;\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}