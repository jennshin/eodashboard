{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/IndicatorFilters.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/IndicatorFilters.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/babel-loader/lib/index.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIFV0aWxpdGllcwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwoKaW1wb3J0IENvdW50cnlGbGFnIGZyb20gJ3Z1ZS1jb3VudHJ5LWZsYWcnOwppbXBvcnQgY291bnRyaWVzIGZyb20gJ0AvYXNzZXRzL2NvdW50cmllcy5qc29uJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb3VudHJ5RmxhZywKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICB0YWI6IDAsCiAgICBpbmRpY2F0b3JzOiB7CiAgICAgIGVudmlyb25tZW50OiAxLAogICAgICBlY29ub215OiAwLAogICAgICBoZWFsdGg6IDAsCiAgICB9LAogICAgY291bnRyeVNlbGVjdGlvbjogJ2FsbCcsCiAgICBpbmRpY2F0b3JTZWxlY3Rpb246ICdhbGwnLAogICAgaW5kaWNhdG9yUGFuZWw6IDAsCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoJ2ZlYXR1cmVzJywgWwogICAgICAnZ2V0Q291bnRyaWVzJywKICAgICAgJ2dldEluZGljYXRvcnMnLAogICAgICAnZ2V0Q291bnRyeUl0ZW1zJywKICAgIF0pLAogICAgLi4ubWFwU3RhdGUoJ2NvbmZpZycsIFsnYXBwQ29uZmlnJywgJ2Jhc2VDb25maWcnXSksCiAgICAuLi5tYXBTdGF0ZSgnZmVhdHVyZXMnLCBbJ2ZlYXR1cmVGaWx0ZXJzJ10pLAogICAgY291bnRyaWVzKCkgewogICAgICByZXR1cm4gY291bnRyaWVzOwogICAgfSwKICAgIGNvdW50cnlJdGVtcygpIHsKICAgICAgbGV0IGNvdW50cnlJdGVtczsKICAgICAgaWYgKHRoaXMuYXBwQ29uZmlnLmN1c3RvbUNvdW50cnlMaXN0KSB7CiAgICAgICAgY291bnRyeUl0ZW1zID0gdGhpcy5hcHBDb25maWcuY3VzdG9tQ291bnRyeUxpc3QKICAgICAgICAgIC5maWx0ZXIoKGMpID0+IHRoaXMuZ2V0Q291bnRyaWVzLmluY2x1ZGVzKGMuY29kZSkpCiAgICAgICAgICAubWFwKChjKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjb3VudHJpZXMuZmVhdHVyZXMuZmluZCgKICAgICAgICAgICAgICAoZikgPT4gZi5wcm9wZXJ0aWVzLmFscGhhMiA9PT0gYy5jb2RlLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGNvZGU6IGMuY29kZSwKICAgICAgICAgICAgICBuYW1lOiBpdGVtLnByb3BlcnRpZXMubmFtZSwKICAgICAgICAgICAgICByZWdpb246IGMucmVnaW9uLAogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY291bnRyeUl0ZW1zID0gdGhpcy5nZXRDb3VudHJpZXMKICAgICAgICAgIC5maWx0ZXIoKGMpID0+IGMgIT09ICdhbGwnKQogICAgICAgICAgLm1hcCgoYykgPT4gewogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjKSkgewogICAgICAgICAgICAgIHJldHVybiBjLm1hcCgoaSkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGNvdW50cmllcy5mZWF0dXJlcy5maW5kKAogICAgICAgICAgICAgICAgICAoZikgPT4gZi5wcm9wZXJ0aWVzLmFscGhhMiA9PT0gaSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBjb2RlOiBpLAogICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLnByb3BlcnRpZXMubmFtZSwKICAgICAgICAgICAgICAgICAgcmVnaW9uOiBudWxsLAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgICAgICBjb25zdCBpdGVtID0gY291bnRyaWVzLmZlYXR1cmVzLmZpbmQoCiAgICAgICAgICAgICAgKGYpID0+IGYucHJvcGVydGllcy5hbHBoYTIgPT09IGMsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgY29kZTogYywKICAgICAgICAgICAgICBuYW1lOiBpdGVtLnByb3BlcnRpZXMubmFtZSwKICAgICAgICAgICAgICByZWdpb246IG51bGwsCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KQogICAgICAgICAgLy8gZmxhdHRlbiB0aGUgYXJyYXkKICAgICAgICAgIC5mbGF0KCkKICAgICAgICAgIC8vIGZpbHRlciBvdXQgZHVwbGljYXRlcwogICAgICAgICAgLmZpbHRlcigKICAgICAgICAgICAgKHRoaW5nLCBpbmRleCwgc2VsZikgPT4gc2VsZi5maW5kSW5kZXgoKHQpID0+IHQuY29kZSA9PT0gdGhpbmcuY29kZSkgPT09IGluZGV4LAogICAgICAgICAgKQogICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChhLm5hbWUgPiBiLm5hbWUgPyAxIDogLTEpKTsKICAgICAgfQogICAgICByZXR1cm4gY291bnRyeUl0ZW1zOwogICAgfSwKICAgIHVuaXF1ZUNsYXNzZXMoKSB7CiAgICAgIGNvbnN0IGNsYXNzZXMgPSB7fTsKICAgICAgY29uc3QgaW5kRGVmID0gdGhpcy5iYXNlQ29uZmlnLmluZGljYXRvcnNEZWZpbml0aW9uOwogICAgICBPYmplY3Qua2V5cyhpbmREZWYpCiAgICAgICAgLmZpbHRlcigoa2V5KSA9PiBpbmREZWZba2V5XS5oaWRlSW5GaWx0ZXJzICE9PSB0cnVlKQogICAgICAgIC5tYXAoKGtleSkgPT4gewogICAgICAgICAgaWYgKHR5cGVvZiBjbGFzc2VzW2luZERlZltrZXldLmNsYXNzXSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgY2xhc3Nlc1tpbmREZWZba2V5XS5jbGFzc10gPSBba2V5XTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsYXNzZXNbaW5kRGVmW2tleV0uY2xhc3NdLnB1c2goa2V5KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0pOwogICAgICByZXR1cm4gY2xhc3NlczsKICAgIH0sCiAgICBpbmRpY2F0b3JJdGVtcygpIHsKICAgICAgbGV0IGluZGljYXRvcnMgPSB0aGlzLmdldEluZGljYXRvcnM7CiAgICAgIGluZGljYXRvcnMgPSBpbmRpY2F0b3JzCiAgICAgICAgLmZpbHRlcigoaSkgPT4gIWkuZHVtbXlGZWF0dXJlKQogICAgICAgIC5maWx0ZXIoCiAgICAgICAgICAoaW5kLCBpbmRleCwgc2VsZikgPT4gc2VsZi5maW5kSW5kZXgoKHQpID0+IHQuY29kZSA9PT0gaW5kLmNvZGUpID09PSBpbmRleCwKICAgICAgICApOwogICAgICBpbmRpY2F0b3JzLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICBjb25zdCBjb2RlQSA9IGEuY29kZTsKICAgICAgICBjb25zdCBjb2RlQiA9IGIuY29kZTsKICAgICAgICBpZiAoY29kZUEgPCBjb2RlQikgcmV0dXJuIC0xOwogICAgICAgIGlmIChjb2RlQiA+IGNvZGVBKSByZXR1cm4gMTsKICAgICAgICByZXR1cm4gMDsKICAgICAgfSk7CiAgICAgIHJldHVybiBpbmRpY2F0b3JzOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5zdWJzY3JpYmUoKG11dGF0aW9uKSA9PiB7CiAgICAgIGlmICgKICAgICAgICBtdXRhdGlvbi50eXBlID09PSAnZmVhdHVyZXMvSU5JVF9GRUFUVVJFX0ZJTFRFUicKICAgICAgICB8fCBtdXRhdGlvbi50eXBlID09PSAnZmVhdHVyZXMvU0VUX0ZFQVRVUkVfRklMVEVSJwogICAgICApIHsKICAgICAgICBpZiAobXV0YXRpb24ucGF5bG9hZC5jb3VudHJpZXMpIHsKICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG11dGF0aW9uLnBheWxvYWQuY291bnRyaWVzKSkgewogICAgICAgICAgICBpZiAobXV0YXRpb24ucGF5bG9hZC5jb3VudHJpZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5U2VsZWN0aW9uID0gJ2FsbCc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY291bnRyeVNlbGVjdGlvbiA9IG11dGF0aW9uLnBheWxvYWQuY291bnRyaWVzOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAobXV0YXRpb24ucGF5bG9hZC5pbmRpY2F0b3JzKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtdXRhdGlvbi5wYXlsb2FkLmluZGljYXRvcnMpKSB7CiAgICAgICAgICAgIGlmIChtdXRhdGlvbi5wYXlsb2FkLmluZGljYXRvcnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTZWxlY3Rpb24gPSAnYWxsJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBbdGhpcy5pbmRpY2F0b3JTZWxlY3Rpb25dID0gbXV0YXRpb24ucGF5bG9hZC5pbmRpY2F0b3JzOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmluZGljYXRvclNlbGVjdGlvbiA9IG11dGF0aW9uLnBheWxvYWQuaW5kaWNhdG9yczsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0Q291bnRyeShzZWxlY3Rpb24pIHsKICAgICAgaWYgKHNlbGVjdGlvbiA9PT0gJ2FsbCcpIHsKICAgICAgICB0aGlzLnNldEZpbHRlcih7IGNvdW50cmllczogW10gfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRGaWx0ZXIoeyBjb3VudHJpZXM6IHNlbGVjdGlvbiB9KTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdEluZGljYXRvcihzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5zZXRGaWx0ZXIoewogICAgICAgIGluZGljYXRvcnM6IHNlbGVjdGlvbiA9PT0gJ2FsbCcgPyBbXSA6IFtzZWxlY3Rpb25dLAogICAgICB9KTsKICAgIH0sCiAgICBzZXRGaWx0ZXIoZmlsdGVyKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZmVhdHVyZXMvU0VUX0ZFQVRVUkVfRklMVEVSJywgZmlsdGVyKTsKICAgIH0sCiAgICB1bmlxdWVSZWdpb25zKGNvdW50cnlJdGVtcykgewogICAgICByZXR1cm4gY291bnRyeUl0ZW1zCiAgICAgICAgLm1hcCgoYykgPT4gYy5yZWdpb24pCiAgICAgICAgLmZpbHRlcigKICAgICAgICAgICh0aGluZywgaW5kZXgsIHNlbGYpID0+IHNlbGYuZmluZEluZGV4KCh0KSA9PiB0ID09PSB0aGluZykgPT09IGluZGV4LAogICAgICAgICk7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIGNvdW50cnlTZWxlY3Rpb24odmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0Q291bnRyeSh2YWwpOwogICAgfSwKICAgIGluZGljYXRvclNlbGVjdGlvbih2YWwpIHsKICAgICAgdGhpcy5zZWxlY3RJbmRpY2F0b3IodmFsKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["IndicatorFilters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsLA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IndicatorFilters.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"width: 100%\" class=\"fill-height\">\n    <v-tabs v-model=\"tab\" grow activeClass=\"tabActive\" icons-and-text>\n      <v-tab>\n        <v-badge\n          v-if=\"countrySelection !== 'all'\"\n          color=\"primary\"\n          icon=\"mdi-filter\"\n          offset-x=\"-37\"\n          offset-y=\"-26\"\n        >\n        </v-badge>\n        Countries\n        <v-icon class=\"mb-1\">mdi-flag-outline</v-icon>\n      </v-tab>\n      <v-tab>\n        <v-badge\n          v-if=\"indicatorSelection !== 'all'\"\n          color=\"primary\"\n          icon=\"mdi-filter\"\n          offset-x=\"-37\"\n          offset-y=\"-26\"\n        >\n        </v-badge>\n        Indicators\n        <v-icon class=\"mb-1\">mdi-lightbulb-on-outline</v-icon>\n      </v-tab>\n    </v-tabs>\n    <v-tabs-items\n      v-model=\"tab\"\n      :style=\"`height: calc(100% - 112px); overflow-y: auto`\"\n    >\n      <v-tab-item class=\"fill-height\">\n        <v-list\n          dense\n          :style=\"$vuetify.breakpoint.xsOnly && 'padding-bottom: 60px'\"\n        >\n          <v-list-item-group v-model=\"countrySelection\" color=\"primary\">\n            <v-list-item\n              :value=\"'all'\"\n              :disabled=\"countrySelection === 'all'\"\n              active-class=\"itemActive\"\n            >\n              <v-list-item-icon\n                v-if=\"appConfig.id !== 'trilateral'\"\n                class=\"d-flex align-center mr-2\"\n              >\n                <country-flag country=\"eu\" size=\"normal\" />\n              </v-list-item-icon>\n              <v-list-item-icon v-else class=\"d-flex align-center ml-5 mr-6\">\n                <v-icon\n                  :color=\"countrySelection === 'all' ? 'white' : 'primary'\"\n                  >mdi-earth</v-icon\n                >\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>Available countries</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n            <template v-for=\"region in uniqueRegions(countryItems)\">\n              <v-subheader v-if=\"region\" class=\"ml-5\" :key=\"region\">\n                {{ region.toUpperCase() }}\n              </v-subheader>\n              <v-list-item\n                v-for=\"country in countryItems.filter((cI) =>\n                  cI.region ? cI.region === region : true\n                )\"\n                :key=\"country.code\"\n                :value=\"country.code\"\n                :disabled=\"countrySelection === country.code\"\n                active-class=\"itemActive\"\n              >\n                <v-list-item-icon class=\"d-flex align-center mr-2\">\n                  <country-flag\n                    :country=\"country.code === 'all' ? 'eu' : country.code\"\n                    size=\"normal\"\n                  />\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>{{ country.name }}</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </template>\n          </v-list-item-group>\n        </v-list>\n      </v-tab-item>\n      <v-tab-item class=\"fill-height\">\n        <v-list\n          dense\n          :style=\"$vuetify.breakpoint.xsOnly && 'padding-bottom: 60px'\"\n        >\n          <v-list-item-group v-model=\"indicatorSelection\" color=\"primary\">\n            <v-list-item\n              :value=\"'all'\"\n              active-class=\"itemActive\"\n              :disabled=\"indicatorSelection === 'all'\"\n            >\n              <v-list-item-icon class=\"ml-3 mr-4\">\n                <v-icon>mdi-lightbulb-on-outline</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>Available indicators</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n            <template v-for=\"classId in Object.keys(uniqueClasses)\">\n              <v-subheader\n                class=\"ml-5\"\n                :key=\"classId\"\n                v-if=\"\n                  indicatorItems.filter((i) =>\n                    uniqueClasses[classId].includes(i.code)\n                  ).length > 0\n                \"\n              >\n                {{ classId.toUpperCase() }}\n              </v-subheader>\n              <v-list-item\n                v-for=\"indicator in indicatorItems.filter(\n                  (i) =>\n                    uniqueClasses[classId].includes(i.code) &&\n                    i.indicator !== ''\n                )\"\n                :key=\"indicator.code\"\n                :value=\"indicator.code\"\n                active-class=\"itemActive\"\n                :class=\"indicator.archived ? 'archived-item' : ''\"\n                :disabled=\"indicatorSelection === indicator.code\"\n              >\n                <v-list-item-icon class=\"ml-3 mr-4\">\n                  <v-icon>{{\n                    baseConfig.indicatorClassesIcons[classId]\n                      ? baseConfig.indicatorClassesIcons[classId]\n                      : \"mdi-lightbulb-on-outline\"\n                  }}</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title v-if=\"indicator.indicatorOverwrite\"\n                    v-text=\"indicator.indicatorOverwrite\"\n                    style=\"\n                      text-overflow: unset;\n                      overflow: unset;\n                      white-space: pre-wrap;\n                    \"\n                  ></v-list-item-title>\n                  <v-list-item-title v-else\n                    v-text=\"indicator.indicator\"\n                    style=\"\n                      text-overflow: unset;\n                      overflow: unset;\n                      white-space: pre-wrap;\n                    \"\n                  ></v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </template>\n          </v-list-item-group>\n        </v-list>\n      </v-tab-item>\n    </v-tabs-items>\n    <v-sheet\n      class=\"d-flex align-center justify-center\"\n      :style=\"`width: 100%; height: 40px; ${$vuetify.breakpoint.xsOnly\n        ? 'position: absolute; bottom: 0;' : ''}`\">\n      <v-checkbox\n        :value=\"featureFilters.includeArchived\"\n        label=\"Show archived indicators\"\n        color=\"primary\"\n        dense\n        hide-details\n        class=\"ma-0\"\n        @change=\"\n          setFilter({ includeArchived: !featureFilters.includeArchived })\n        \"\n      >\n      </v-checkbox>\n    </v-sheet>\n  </div>\n</template>\n\n<script>\n// Utilities\nimport { mapGetters, mapState } from 'vuex';\n\nimport CountryFlag from 'vue-country-flag';\nimport countries from '@/assets/countries.json';\n\nexport default {\n  components: {\n    CountryFlag,\n  },\n  data: () => ({\n    tab: 0,\n    indicators: {\n      environment: 1,\n      economy: 0,\n      health: 0,\n    },\n    countrySelection: 'all',\n    indicatorSelection: 'all',\n    indicatorPanel: 0,\n  }),\n  computed: {\n    ...mapGetters('features', [\n      'getCountries',\n      'getIndicators',\n      'getCountryItems',\n    ]),\n    ...mapState('config', ['appConfig', 'baseConfig']),\n    ...mapState('features', ['featureFilters']),\n    countries() {\n      return countries;\n    },\n    countryItems() {\n      let countryItems;\n      if (this.appConfig.customCountryList) {\n        countryItems = this.appConfig.customCountryList\n          .filter((c) => this.getCountries.includes(c.code))\n          .map((c) => {\n            const item = countries.features.find(\n              (f) => f.properties.alpha2 === c.code,\n            );\n            return {\n              code: c.code,\n              name: item.properties.name,\n              region: c.region,\n            };\n          });\n      } else {\n        countryItems = this.getCountries\n          .filter((c) => c !== 'all')\n          .map((c) => {\n            if (Array.isArray(c)) {\n              return c.map((i) => {\n                const item = countries.features.find(\n                  (f) => f.properties.alpha2 === i,\n                );\n                return {\n                  code: i,\n                  name: item.properties.name,\n                  region: null,\n                };\n              });\n            }\n              //eslint-disable-line\n            const item = countries.features.find(\n              (f) => f.properties.alpha2 === c,\n            );\n            return {\n              code: c,\n              name: item.properties.name,\n              region: null,\n            };\n          })\n          // flatten the array\n          .flat()\n          // filter out duplicates\n          .filter(\n            (thing, index, self) => self.findIndex((t) => t.code === thing.code) === index,\n          )\n          .sort((a, b) => (a.name > b.name ? 1 : -1));\n      }\n      return countryItems;\n    },\n    uniqueClasses() {\n      const classes = {};\n      const indDef = this.baseConfig.indicatorsDefinition;\n      Object.keys(indDef)\n        .filter((key) => indDef[key].hideInFilters !== true)\n        .map((key) => {\n          if (typeof classes[indDef[key].class] === 'undefined') {\n            classes[indDef[key].class] = [key];\n          } else {\n            classes[indDef[key].class].push(key);\n          }\n          return null;\n        });\n      return classes;\n    },\n    indicatorItems() {\n      let indicators = this.getIndicators;\n      indicators = indicators\n        .filter((i) => !i.dummyFeature)\n        .filter(\n          (ind, index, self) => self.findIndex((t) => t.code === ind.code) === index,\n        );\n      indicators.sort((a, b) => {\n        const codeA = a.code;\n        const codeB = b.code;\n        if (codeA < codeB) return -1;\n        if (codeB > codeA) return 1;\n        return 0;\n      });\n      return indicators;\n    },\n  },\n  mounted() {\n    this.$store.subscribe((mutation) => {\n      if (\n        mutation.type === 'features/INIT_FEATURE_FILTER'\n        || mutation.type === 'features/SET_FEATURE_FILTER'\n      ) {\n        if (mutation.payload.countries) {\n          if (Array.isArray(mutation.payload.countries)) {\n            if (mutation.payload.countries.length === 0) {\n              this.countrySelection = 'all';\n            }\n          } else {\n            this.countrySelection = mutation.payload.countries;\n          }\n        }\n        if (mutation.payload.indicators) {\n          if (Array.isArray(mutation.payload.indicators)) {\n            if (mutation.payload.indicators.length === 0) {\n              this.indicatorSelection = 'all';\n            } else {\n              [this.indicatorSelection] = mutation.payload.indicators;\n            }\n          } else {\n            this.indicatorSelection = mutation.payload.indicators;\n          }\n        }\n      }\n    });\n  },\n  methods: {\n    selectCountry(selection) {\n      if (selection === 'all') {\n        this.setFilter({ countries: [] });\n      } else {\n        this.setFilter({ countries: selection });\n      }\n    },\n    selectIndicator(selection) {\n      this.setFilter({\n        indicators: selection === 'all' ? [] : [selection],\n      });\n    },\n    setFilter(filter) {\n      this.$store.commit('features/SET_FEATURE_FILTER', filter);\n    },\n    uniqueRegions(countryItems) {\n      return countryItems\n        .map((c) => c.region)\n        .filter(\n          (thing, index, self) => self.findIndex((t) => t === thing) === index,\n        );\n    },\n  },\n  watch: {\n    countrySelection(val) {\n      this.selectCountry(val);\n    },\n    indicatorSelection(val) {\n      this.selectIndicator(val);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .v-expansion-panel-content__wrap {\n  padding-left: 0;\n  padding-right: 0;\n}\n.v-list-item__icon .flag {\n  border: 1px solid lightgray;\n  background-position-x: -1px;\n}\n.v-application.theme--dark {\n  .v-list-item__icon .flag {\n    border: 1px solid transparent;\n  }\n}\n.itemActive {\n  background: var(--v-primary-base);\n  color: white !important;\n  .v-list-item__icon .flag {\n    border: 1px solid transparent;\n  }\n}\n::v-deep .archived-item {\n  opacity: 0.65;\n}\n</style>\n"]}]}