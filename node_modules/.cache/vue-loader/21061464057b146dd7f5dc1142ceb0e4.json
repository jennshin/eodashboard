{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/views/Feedback.vue?vue&type=style&index=0&id=65d59982&lang=scss&scoped=true&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/views/Feedback.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/css-loader/dist/cjs.js","mtime":1624878752000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1624878753000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/postcss-loader/src/index.js","mtime":1624878752000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/sass-loader/dist/cjs.js","mtime":1624878756000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi52LWNhcmRfX3RpdGxlIHsKICB3b3JkLWJyZWFrOiBicmVhay13b3JkOwp9Cg=="},{"version":3,"sources":["Feedback.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkaA;AACA;AACA","file":"Feedback.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"text-center pa-5\">\n    <h1 v-if=\"$vuetify.breakpoint.smAndUp\" class=\"display-2 font-weight-light primary--text mb-10\">\n      How can we improve this dashboard?</h1>\n    <v-row class=\"text-left\">\n      <v-col\n        v-if=\"!showIssueForm || issueData\"\n        cols=\"12\"\n        md=\"4\"\n      >\n        <v-card\n          outlined\n        >\n          <v-card-title>\n            <v-icon left color=\"primary\">mdi-chart-line</v-icon>\n            There's an issue with the displayed data\n          </v-card-title>\n          <v-responsive :aspect-ratio=\"4/1\">\n            <v-card-text :class=\"$vuetify.breakpoint.xsOnly && 'py-0'\">\n              <p>Is there missing or wrong data? Found a strange interpretation?\n                Want to improve one of the provided descriptions or stories?</p>\n            </v-card-text>\n          </v-responsive>\n          <v-btn\n            color=\"primary\"\n            class=\"ml-3 mb-5\"\n            @click=\"showIssueForm = !showIssueForm; issueData = true;\"\n          >\n            <v-icon left>mdi-pencil</v-icon>\n            {{ showIssueForm ? 'close form' : 'fill out form' }}\n          </v-btn>\n        </v-card>\n      </v-col>\n      <v-col\n        v-if=\"!showIssueForm || !issueData\"\n        cols=\"12\"\n        md=\"4\"\n      >\n        <v-card\n          outlined\n        >\n          <v-card-title>\n            <v-icon left color=\"primary\">mdi-bug</v-icon>\n            The Dashboard does not work as expected\n          </v-card-title>\n          <v-responsive :aspect-ratio=\"4/1\">\n            <v-card-text :class=\"$vuetify.breakpoint.xsOnly && 'py-0'\">\n              <p>Something didn't work as expected while using the dashboard?<br />\n              Good catch! Please report the bug:</p>\n            </v-card-text>\n          </v-responsive>\n          <v-btn\n            color=\"primary\"\n            class=\"ml-3 mb-5\"\n            @click=\"showIssueForm = !showIssueForm; issueData = false;\"\n          >\n            <v-icon left>mdi-pencil</v-icon>\n            {{ showIssueForm ? 'close form' : 'fill out form' }}\n          </v-btn>\n          <v-btn\n            color=\"primary\"\n            outlined\n            class=\"ml-3 mb-5\"\n            href=\"https://github.com/eurodatacube/eodash/issues\"\n            target=\"_blank\"\n          >\n            <v-icon left>mdi-github</v-icon>\n            eodash on Github\n          </v-btn>\n        </v-card>\n      </v-col>\n      <v-col\n        v-if=\"!showIssueForm\"\n        cols=\"12\"\n        md=\"4\"\n      >\n        <v-card\n          outlined\n        >\n          <v-card-title>\n            <v-icon left color=\"primary\">mdi-head-question-outline</v-icon>\n            Something else\n          </v-card-title>\n          <v-responsive :aspect-ratio=\"4/1\">\n            <v-card-text :class=\"$vuetify.breakpoint.xsOnly && 'py-0'\">\n              <p>Want to provide a different kind of feedback?<br />\n              Let us know by getting in touch with us:</p>\n            </v-card-text>\n          </v-responsive>\n          <v-btn\n            v-for=\"handle in appConfig.feedbackTwitterHandles\"\n            :key=\"handle\"\n            color=\"#1DA1F2\"\n            dark\n            small\n            class=\"ml-3 mb-5\"\n            :href=\"`https://twitter.com/${handle}`\"\n            target=\"_blank\"\n          >\n            <v-icon left>mdi-twitter</v-icon>\n            {{ handle }}\n          </v-btn>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-row v-if=\"showIssueForm\">\n      <v-col\n        cols=\"12\"\n      >\n        <v-card\n          outlined\n          class=\"text-left\"\n        >\n          <v-form v-model=\"valid\" ref=\"issueForm\">\n            <v-container>\n              <v-row>\n                <v-col cols=\"12\">\n                  <h2>{{ issueData ? 'Data Issue' : 'Bug' }} report</h2>\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                >\n                  <v-text-field\n                    v-model=\"formData.title\"\n                    label=\"Issue Title\"\n                    outlined\n                    required\n                    :rules=\"[v => !!v || 'Required field']\"\n                  ></v-text-field>\n                </v-col>\n                <v-col\n                  v-if=\"!issueData\"\n                  cols=\"12\"\n                >\n                  <v-text-field\n                    v-model=\"operatingSystem\"\n                    label=\"Operating System\"\n                    outlined\n                    required\n                    :rules=\"[v => !!v || 'Required field']\"\n                  ></v-text-field>\n                </v-col>\n                <v-col\n                  v-if=\"!issueData\"\n                  cols=\"12\"\n                >\n                  <v-text-field\n                    v-model=\"affectedBrowser\"\n                    label=\"Affected Browser\"\n                    outlined\n                    required\n                    :rules=\"[v => !!v || 'Required field']\"\n                  ></v-text-field>\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                >\n                  <v-textarea\n                    v-model=\"stepsToReproduce\"\n                    outlined\n                    label=\"Steps to reproduce\"\n                    required\n                    :auto-grow=\"true\"\n                    rows=\"3\"\n                    :messages=\"markdownMessage\"\n                    :rules=\"[v => !!v || 'Required field']\"\n                  >\n                    <template v-slot:message=\"{ message }\">\n                      <span v-html=\"message\"></span>\n                    </template>\n                  </v-textarea>\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                >\n                  <v-textarea\n                    v-model=\"expectedBehaviour\"\n                    outlined\n                    :label=\"issueData ? 'Expected content' : 'Expected behaviour'\"\n                    required\n                    :auto-grow=\"true\"\n                    rows=\"3\"\n                    :messages=\"markdownMessage\"\n                    :rules=\"[v => !!v || 'Required field']\"\n                  >\n                    <template v-slot:message=\"{ message }\">\n                      <span v-html=\"message\"></span>\n                    </template>\n                  </v-textarea>\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                >\n                  <v-textarea\n                    v-model=\"comments\"\n                    outlined\n                    :label=\"`Contact information or additional comments (optional${!issueData\n                      ? ', publicly visible'\n                      : ''})`\"\n                    :auto-grow=\"true\"\n                    rows=\"3\"\n                    :messages=\"markdownMessage\"\n                  >\n                    <template v-slot:message=\"{ message }\">\n                      <span v-html=\"message\"></span>\n                    </template>\n                  </v-textarea>\n                </v-col>\n                <v-col\n                  cols=\"12\"\n                  class=\"text-right\"\n                >\n                  <v-btn\n                    color=\"primary\"\n                    @click=\"openPreview\"\n                  >\n                    Preview report\n                  </v-btn>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-form>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-dialog\n      v-model=\"showPreview\"\n      :width=\"$vuetify.breakpoint.xsOnly ? '90%' : '80%'\"\n    >\n      <v-card\n      >\n        <v-card-title\n          class=\"primary white--text\"\n          :style=\"$vuetify.breakpoint.xsOnly && 'position: fixed; width: 85%'\"\n        >{{ formData.title }}</v-card-title>\n        <v-card-text\n          :style=\"$vuetify.breakpoint.xsOnly && 'padding: 70px 0'\"\n        >\n          <div\n            v-html=\"formData.body\"\n            class=\"md-body pa-5\"\n          />\n        </v-card-text>\n        <v-card-actions\n          :style=\"$vuetify.breakpoint.xsOnly && 'position: fixed; width: 85%; bottom: 5%'\"\n        >\n          <v-spacer></v-spacer>\n          <v-btn\n            v-if=\"!message\"\n            link\n            @click=\"showPreview = false\"\n            :disabled=\"disableButtons\"\n          >Cancel</v-btn>\n          <v-btn\n            v-if=\"!message\"\n            color=\"primary\"\n            @click=\"submitIssue\"\n            :disabled=\"disableButtons\"\n          >Submit</v-btn>\n          <v-btn\n            v-if=\"message\"\n            color=\"primary\"\n            @click=\"clearForm\"\n          >Submit another one</v-btn>\n          <v-btn\n            v-if=\"message\"\n            link\n            @click=\"showPreview = false\"\n          >Close</v-btn>\n        </v-card-actions>\n        <div class=\"pa-5\">\n          <span v-if=\"message\" class=\"success--text\">{{ message }}</span>\n          <span v-if=\"error\" class=\"error--text\">{{ error }}</span>\n        </div>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mapState,\n} from 'vuex';\n\nimport axios from 'axios';\n\nexport default {\n  data: () => ({\n    issueUrl: 'https://issues-eodash.f77a4d8a-acde-4ddd-b1cd-b2b6afe83d7a.hub.eox.at/issues',\n    issueDataUrl: 'https://issues-data.f77a4d8a-acde-4ddd-b1cd-b2b6afe83d7a.hub.eox.at/issues',\n    issueData: false,\n    showIssueForm: false,\n    message: null,\n    error: null,\n    disableButtons: false,\n    formData: {\n      title: null,\n      body: null,\n    },\n    valid: false,\n    operatingSystem: null,\n    affectedBrowser: null,\n    stepsToReproduce: null,\n    expectedBehaviour: null,\n    comments: null,\n    showPreview: false,\n    markdownMessage: 'You can use <a href=\"https://guides.github.com/features/mastering-markdown/\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\">markdown</a>',\n  }),\n  computed: {\n    ...mapState('config', ['appConfig']),\n  },\n  mounted() {\n    this.detectSystem();\n  },\n  methods: {\n    detectSystem() {\n      let name = 'Not known';\n      if (navigator.appVersion.indexOf('Win') !== -1) {\n        name = 'Windows OS';\n      }\n      if (navigator.appVersion.indexOf('Mac') !== -1) {\n        name = 'MacOS';\n      }\n      if (navigator.appVersion.indexOf('X11') !== -1) {\n        name = 'UNIX OS';\n      }\n      if (navigator.appVersion.indexOf('Linux') !== -1) {\n        name = 'Linux OS';\n      }\n      this.operatingSystem = name;\n      this.affectedBrowser = `${this.$browserDetect.meta.name} ${this.$browserDetect.meta.version}`;\n    },\n    openPreview() {\n      if (this.$refs.issueForm.validate()) {\n        if (this.issueData) {\n          this.formData.body = this.$marked(`### Environment\n**App version:** ${this.$store.getters.appVersion}\n\n**Current URL:** ${window.location}\n\n### Steps to reproduce:\n${this.stepsToReproduce}\n\n### Expected Content:\n${this.expectedBehaviour}\n\n### Comments:\n${this.comments || 'No comments'}\n`);\n        } else {\n          this.formData.body = this.$marked(`### Environment\n**App version:** ${this.$store.getters.appVersion}\n\n**Current URL:** ${window.location}\n\n**Operating system:** ${this.operatingSystem}\n\n**Affected browser:** ${this.affectedBrowser}\n\n### Steps to reproduce:\n${this.stepsToReproduce}\n\n### Expected Behaviour:\n${this.expectedBehaviour}\n\n### Contact information or additional comments (optional${!this.issueData ? ', publicly visible' : ''}):\n${this.comments || 'No comments'}\n`);\n        }\n        this.showPreview = true;\n      }\n    },\n    async submitIssue() {\n      this.disableButtons = true;\n      this.message = null;\n      this.error = null;\n      try {\n        const postUrl = this.issueData ? this.issueDataUrl : this.issueUrl;\n        const response = await axios.post(postUrl,\n          this.formData);\n        if (response) {\n          this.message = 'Success! Thanks for reporting!';\n        }\n      } catch (error) {\n        console.log(error);\n        this.error = error.message;\n        this.disableButtons = false;\n      }\n    },\n    clearForm() {\n      this.showPreview = false;\n      this.message = null;\n      this.error = null;\n      this.disableButtons = false;\n      this.formData = {\n        title: null,\n        body: null,\n      };\n      this.operatingSystem = null;\n      this.affectedBrowser = null;\n      this.stepsToReproduce = null;\n      this.expectedBehaviour = null;\n      this.actualBehaviour = null;\n      this.comments = null;\n      this.detectSystem();\n    },\n  },\n  watch: {\n    showIssueForm(val) {\n      if (!val) {\n        this.clearForm();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.v-card__title {\n  word-break: break-word;\n}\n</style>\n"]}]}