{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/NewsCarousel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/NewsCarousel.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/babel-loader/lib/index.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFNsaWRlOiAwLAogICAgICBhdXRvUGxheUlmcmFtZTogZmFsc2UsCiAgICAgIGl0ZW1zOiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuYXBwQ29uZmlnLm5ld3NDYXJvdXNlbGl0ZW1zLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ2xpY2tJdGVtKGl0ZW0pIHsKICAgICAgY29uc3QgeyBwb2kgfSA9IGl0ZW07CiAgICAgIGlmIChwb2kpIHsKICAgICAgICBjb25zdCBhb2lJZCA9IHBvaS5zcGxpdCgnLScpWzBdOwogICAgICAgIGNvbnN0IGluZGljYXRvckNvZGUgPSBwb2kuc3BsaXQoJy0nKVsxXTsKICAgICAgICBjb25zdCBzZWxlY3RlZEZlYXR1cmUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5mZWF0dXJlcy5hbGxGZWF0dXJlcy5maW5kKChmKSA9PiB7CiAgICAgICAgICBjb25zdCB7IGluZGljYXRvck9iamVjdCB9ID0gZi5wcm9wZXJ0aWVzOwogICAgICAgICAgcmV0dXJuIGluZGljYXRvck9iamVjdC5hb2lJRCA9PT0gYW9pSWQKICAgICAgICAgICAgJiYgaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvciA9PT0gaW5kaWNhdG9yQ29kZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luZGljYXRvcnMvU0VUX1NFTEVDVEVEX0lORElDQVRPUicsIHNlbGVjdGVkRmVhdHVyZS5wcm9wZXJ0aWVzLmluZGljYXRvck9iamVjdCk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNsaWNrSWZyYW1lKCkgewogICAgICB0aGlzLmF1dG9QbGF5SWZyYW1lID0gdHJ1ZTsKICAgIH0sCiAgICBpZnJhbWVTcmMoc3JjKSB7CiAgICAgIGxldCBuZXdTcmM7CiAgICAgIGlmICh0aGlzLmF1dG9QbGF5SWZyYW1lKSB7CiAgICAgICAgbmV3U3JjID0gYCR7c3JjfT9hdXRvcGxheT0xYDsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXdTcmMgPSBzcmM7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld1NyYzsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFNsaWRlKCkgewogICAgICBpZiAodGhpcy5hdXRvUGxheUlmcmFtZSkgewogICAgICAgIHRoaXMuYXV0b1BsYXlJZnJhbWUgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["NewsCarousel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewsCarousel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-carousel\n    v-model=\"currentSlide\"\n    continuous\n    :cycle=\"!autoPlayIframe\"\n    height=\"auto\"\n    hide-delimiter-background\n    :hide-delimiters=\"autoPlayIframe\"\n    show-arrows-on-hover\n    :style=\"`background: ${$vuetify.theme.themes.light.primary}`\"\n  >\n    <v-hover>\n      <template v-slot:default=\"{ hover }\">\n        <div>\n          <v-carousel-item\n            v-for=\"(item, i) in items\"\n            :key=\"i\"\n            :aspect-ratio=\"16/9\"\n            :src=\"item.src && item.src\"\n          >\n            <iframe\n              v-if=\"item.iframe\"\n              :src=\"iframeSrc(item.iframe)\"\n              width=\"100%\"\n              height=\"100%\"\n              allowfullscreen\n              frameborder=\"0\"\n              @click=\"autoPlayIframe = true\"\n              :class=\"!autoPlayIframe && 'untouchable'\"\n            ></iframe>\n            <v-btn\n              v-if=\"item.iframe && !autoPlayIframe\"\n              fab x-large\n              @click=\"onClickIframe(item)\"\n              color=\"primary\"\n              class=\"playButton\"\n            >\n              <v-icon>mdi-play</v-icon>\n            </v-btn>\n            <v-fade-transition>\n              <v-overlay\n                v-if=\"hover && !autoPlayIframe\"\n                absolute\n                :color=\"$vuetify.theme.themes.light.primary\"\n              >\n                <v-btn\n                  v-if=\"!item.iframe\"\n                  @click=\"onClickItem(item)\"\n                  color=\"primary\"\n                >View indicator</v-btn>\n              </v-overlay>\n            </v-fade-transition>\n          </v-carousel-item>\n        </div>\n      </template>\n    </v-hover>\n  </v-carousel>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      currentSlide: 0,\n      autoPlayIframe: false,\n      items: this.$store.state.config.appConfig.newsCarouselitems,\n    };\n  },\n  methods: {\n    onClickItem(item) {\n      const { poi } = item;\n      if (poi) {\n        const aoiId = poi.split('-')[0];\n        const indicatorCode = poi.split('-')[1];\n        const selectedFeature = this.$store.state.features.allFeatures.find((f) => {\n          const { indicatorObject } = f.properties;\n          return indicatorObject.aoiID === aoiId\n            && indicatorObject.indicator === indicatorCode;\n        });\n        this.$store.commit('indicators/SET_SELECTED_INDICATOR', selectedFeature.properties.indicatorObject);\n      }\n    },\n    onClickIframe() {\n      this.autoPlayIframe = true;\n    },\n    iframeSrc(src) {\n      let newSrc;\n      if (this.autoPlayIframe) {\n        newSrc = `${src}?autoplay=1`;\n      } else {\n        newSrc = src;\n      }\n      return newSrc;\n    },\n  },\n  watch: {\n    currentSlide() {\n      if (this.autoPlayIframe) {\n        this.autoPlayIframe = false;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .v-responsive__content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.playButton {\n  position: absolute;\n  z-index: 999;\n}\n</style>\n"]}]}