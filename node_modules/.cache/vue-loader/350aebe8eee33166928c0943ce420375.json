{"remainingRequest":"/Users/8ps/Downloads/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/8ps/Downloads/eodash-staging/app/src/components/IframeButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/8ps/Downloads/eodash-staging/app/src/components/IframeButton.vue","mtime":1624532486000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/8ps/Downloads/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkaWFsb2dNaXhpbiBmcm9tICdAL21peGlucy9kaWFsb2dNaXhpbic7CgpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbZGlhbG9nTWl4aW5dLAogIHByb3BzOiBbJ2luZGljYXRvck9iamVjdCddLAogIGRhdGE6ICgpID0+ICh7CiAgICBkaWFsb2c6IGZhbHNlLAogICAgY29weVN1Y2Nlc3M6IGZhbHNlLAogIH0pLAogIGNvbXB1dGVkOiB7CiAgICBpZnJhbWVDb2RlKCkgewogICAgICByZXR1cm4gYDxpZnJhbWUgY2xhc3M9Iml0ZW0iIHNyYz0iJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9pZnJhbWU/cG9pPSR7dGhpcy5nZXRMb2NhdGlvbkNvZGUodGhpcy5pbmRpY2F0b3JPYmplY3QpfSR7dGhpcy4kcm91dGUucXVlcnkuc2Vuc29yID8gYCZzZW5zb3I9JHt0aGlzLiRyb3V0ZS5xdWVyeS5zZW5zb3J9YCA6ICcnfSIgd2lkdGg9IjgwMHB4IiBoZWlnaHQ9IjUwMHB4IiBmcmFtZUJvcmRlcj0iMCIgc2Nyb2xsPSJubyIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbiI+PC9pZnJhbWU+YDsKICAgIH0sCiAgICBzaG93TWFwKCkgewogICAgICByZXR1cm4gWydhbGwnXS5pbmNsdWRlcyh0aGlzLmluZGljYXRvck9iamVjdC5jb3VudHJ5KSB8fCBBcnJheS5pc0FycmF5KHRoaXMuaW5kaWNhdG9yT2JqZWN0LmNvdW50cnkpOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNvcHkocykgewogICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzKTsKICAgICAgdGhpcy5jb3B5U3VjY2VzcyA9IHRydWU7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["IframeButton.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IframeButton.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-dialog\n    v-model=\"dialog\"\n    width=\"500\"\n  >\n    <template v-slot:activator=\"{}\">\n      <v-btn\n        color=\"primary\"\n        text\n        small\n        @click=\"dialog = true\"\n      >\n        <template v-if=\"showMap\">\n          <v-icon left>mdi-map-search</v-icon>\n          embed map\n        </template>\n        <template v-else>\n          <v-icon left>mdi-poll-box</v-icon>\n          embed chart\n        </template>\n      </v-btn>\n    </template>\n\n    <v-card>\n      <v-card-title class=\"headline primary white--text\">\n        Embed this chart into your website\n      </v-card-title>\n\n      <v-card-text class=\"py-5\">\n        Copy and paste this code into your HTML file:\n        <code class=\"pa-3\">{{ iframeCode }}\n        </code>\n        <div class=\"d-flex align-center justify-end pt-3\">\n          <v-expand-transition>\n            <div v-if=\"copySuccess\" class=\"success--text mr-3\">\n            <v-icon\n              color=\"success\"\n              left\n            >mdi-clipboard-check-outline</v-icon>\n              <small>copied!</small>\n            </div>\n          </v-expand-transition>\n          <v-btn\n            small\n            text\n            @click=\"copy(iframeCode)\"\n          >\n            <v-icon left>mdi-content-copy</v-icon>\n            copy to clipboard\n          </v-btn>\n        </div>\n      </v-card-text>\n\n      <v-divider></v-divider>\n\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          color=\"primary\"\n          text\n          @click=\"dialog = false\"\n        >\n          Close\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport dialogMixin from '@/mixins/dialogMixin';\n\nexport default {\n  mixins: [dialogMixin],\n  props: ['indicatorObject'],\n  data: () => ({\n    dialog: false,\n    copySuccess: false,\n  }),\n  computed: {\n    iframeCode() {\n      return `<iframe class=\"item\" src=\"${window.location.origin}/iframe?poi=${this.getLocationCode(this.indicatorObject)}${this.$route.query.sensor ? `&sensor=${this.$route.query.sensor}` : ''}\" width=\"800px\" height=\"500px\" frameBorder=\"0\" scroll=\"no\" style=\"overflow:hidden\"></iframe>`;\n    },\n    showMap() {\n      return ['all'].includes(this.indicatorObject.country) || Array.isArray(this.indicatorObject.country);\n    },\n  },\n  methods: {\n    async copy(s) {\n      await navigator.clipboard.writeText(s);\n      this.copySuccess = true;\n    },\n  },\n};\n</script>\n"]}]}