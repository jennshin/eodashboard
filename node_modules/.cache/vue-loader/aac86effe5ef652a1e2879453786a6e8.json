{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/CenterPanel.vue?vue&type=style&index=0&id=6d6a092f&lang=scss&scoped=true&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/components/CenterPanel.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/css-loader/dist/cjs.js","mtime":1624878752000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1624878753000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/postcss-loader/src/index.js","mtime":1624878752000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/sass-loader/dist/cjs.js","mtime":1624878756000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5nbG9iYWxJbmRpY2F0b3JzIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAxMHB4OwogIGxlZnQ6IDEwcHg7CiAgei1pbmRleDogMTsKfQouY2lyY2xlIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIGJhY2tncm91bmQ6IHZhcigtLXYtcHJpbWFyeS1iYXNlKTsKICBib3gtc2l6aW5nOiBjb250ZW50LWJveDsKICBtYXJnaW4tcmlnaHQ6IDRweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KOjp2LWRlZXAgLnYtbWVudV9fY29udGVudCB7CiAgbWF4LXdpZHRoOiBpbml0aWFsOwogIHRvcDogMzhweCAhaW1wb3J0YW50OwogIGxlZnQ6IDBweCAhaW1wb3J0YW50Owp9CgouZ2xvYmFsLWluZGljYXRvcnMtcGFuZWwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IC40cmVtOwogIGxlZnQ6IC41cmVtOwogIHdpZHRoOiB1bnNldDsKCiAgLnBhbmVsLWhlYWRlciB7CiAgICBwYWRkaW5nOiAwIDFyZW07CiAgfQoKICA6OnYtZGVlcCAudi1leHBhbnNpb24tcGFuZWwtY29udGVudF9fd3JhcCB7CiAgICBwYWRkaW5nOiAwOwogIH0KfQo="},{"version":3,"sources":["CenterPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CenterPanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"fill-height pb-8\">\n    <v-tabs\n      v-model=\"tab\"\n      icons-and-text\n      grow\n    >\n      <v-tab ref=\"mapTab\" @click=\"mapTabClick\"\n        style=\"width: 125px\"\n      >\n        Map\n        <v-icon>mdi-map-search</v-icon>\n      </v-tab>\n      <v-tab\n        style=\"width: 125px\"\n      >\n        Table\n        <v-icon>mdi-table-search</v-icon>\n      </v-tab>\n    </v-tabs>\n    <v-tabs-items\n      v-model=\"tab\"\n      touchless\n      class=\"fill-height pb-7\"\n    >\n      <v-tab-item class=\"fill-height\">\n        <Map ref=\"map\" />\n        <v-expansion-panels accordion class=\"global-indicators-panel\" v-model=\"panel\">\n          <v-expansion-panel>\n            <v-expansion-panel-header class=\"panel-header\">\n              <div class=\"d-flex align-center\">\n                <v-icon left color=\"primary\">mdi-earth</v-icon>\n                <span\n                  v-if=\"$vuetify.breakpoint.smAndUp || panel !== undefined && panel !== null\"\n                >Global Indicators</span>\n              </div>\n            </v-expansion-panel-header>\n            <v-expansion-panel-content class=\"panel-content\">\n              <v-list dense class=\"pt-0\">\n                <v-list-item\n                  v-for=\"feature in globalIndicators\"\n                  :key=\"getUniqueKey(feature.properties.indicatorObject)\"\n                  class=\"line\"\n                  style=\"cursor: pointer\"\n                  @click=\"selectGlobal(feature)\"\n                >\n                <v-list-item-icon\n                class=\"d-flex align-center mr-1\">\n                  <div\n                    class=\"circle\"\n                    :style=\"`\n                      border: 2px ${currentlySelected(feature)\n                        ? 'dotted'\n                        : 'solid'} white;\n                      width: ${currentlySelected(feature) ? '28px' : '26px'};\n                      height: ${currentlySelected(feature) ? '28px' : '26px'};`\"\n                  >\n                      <v-icon\n                        color=\"white\"\n                        icon-url=\"/test\"\n                        small\n                      >\n                        {{ baseConfig.indicatorClassesIcons[baseConfig\n                            .indicatorsDefinition[feature.properties.indicatorObject.indicator]\n                            .class]\n                            ? baseConfig.indicatorClassesIcons[baseConfig\n                              .indicatorsDefinition[feature.properties\n                                .indicatorObject.indicator].class]\n                            : 'mdi-lightbulb-on-outline'}}\n                      </v-icon>\n                  </div>\n                </v-list-item-icon>\n                <v-list-item-content\n                :class=\"currentlySelected(feature) && 'font-weight-bold'\"\n                >\n                  <v-list-item-title>\n                  {{feature.properties.indicatorObject.description}}\n                  </v-list-item-title>\n                </v-list-item-content>\n                </v-list-item>\n              </v-list>\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n        </v-expansion-panels>\n        <div\n          style=\"position: absolute; left: 10px; bottom: 10px; z-index: 1;\"\n        >\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.countries.length > 0\"\n              class=\"ma-0 mr-2\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetCountry\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ countries.features\n                  .find((c) => c.properties.alpha2 === $store.state.features\n                    .featureFilters.countries).properties.name }}\n            </v-chip>\n          </v-scroll-y-transition>\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.indicators.length > 0\"\n              class=\"ma-0\"\n              :class=\"$vuetify.breakpoint.xsOnly && 'mt-1'\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetIndicator\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ getIndicators\n                  .find((i) => i.code === $store.state.features.featureFilters.indicators[0])\n              && getIndicators\n              .find((i) => i.code ===\n                $store.state.features.featureFilters.indicators[0]).indicator }}\n            </v-chip>\n          </v-scroll-y-transition>\n        </div>\n      </v-tab-item>\n      <v-tab-item\n        class=\"fill-height\"\n        style=\"overflow: auto\"\n      >\n        <feature-table\n          style=\"height: auto\"\n        />\n        <div\n          style=\"position: absolute; left: 10px; bottom: 10px; z-index: 1;\"\n        >\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.countries.length > 0\"\n              class=\"ma-0 mr-2\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetCountry\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ countries.features\n                  .find((c) => c.properties.alpha2 === $store.state.features\n                    .featureFilters.countries).properties.name }}\n            </v-chip>\n          </v-scroll-y-transition>\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.indicators.length > 0\"\n              class=\"ma-0\"\n              :class=\"$vuetify.breakpoint.xsOnly && 'mt-1'\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetIndicator\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ getIndicators\n                  .find((i) => i.code === $store.state.features.featureFilters.indicators[0])\n              && getIndicators\n              .find((i) => i.code ===\n                $store.state.features.featureFilters.indicators[0]).indicator }}\n            </v-chip>\n          </v-scroll-y-transition>\n        </div>\n      </v-tab-item>\n    </v-tabs-items>\n  </div>\n</template>\n\n<script>\n// Utilities\nimport {\n  mapGetters,\n  mapState,\n} from 'vuex';\n\nimport FeatureTable from '@/components/FeatureTable.vue';\nimport Map from '@/components/Map.vue';\n\nimport countries from '@/assets/countries.json';\n\nexport default {\n  components: {\n    FeatureTable,\n    Map,\n  },\n  data() {\n    return {\n      tab: null,\n      openGlobalPanel: false,\n      panel: this.$vuetify.breakpoint.xsOnly ? null : 0,\n    };\n  },\n  computed: {\n    ...mapGetters('features', [\n      'getGroupedFeatures',\n      'getIndicators',\n    ]),\n    ...mapState('config', ['baseConfig']),\n    countries() {\n      return countries;\n    },\n    globalIndicators() {\n      return this.getGroupedFeatures && this.getGroupedFeatures\n        .filter((f) => ['global'].includes(f.properties.indicatorObject.siteName))\n        .sort((a, b) => ((a.properties.indicatorObject.indicatorName\n          > b.properties.indicatorObject.indicatorName)\n          ? 1\n          : -1));\n    },\n    someGlobalIndicator() {\n      return this.globalIndicators && this.globalIndicators\n        .filter((i) => this.$store.state.features.featureFilters.indicators\n          .includes(i.properties.indicatorObject.indicator));\n    },\n  },\n  methods: {\n    selectGlobal(feature) {\n      this.$store.commit(\n        'indicators/SET_SELECTED_INDICATOR',\n        this.$store.state.features.allFeatures\n          .find((f) => f.properties\n            .indicatorObject.indicator === feature.properties.indicatorObject.indicator\n          && f.properties\n            .indicatorObject.aoiID === feature.properties.indicatorObject.aoiID)\n          .properties.indicatorObject,\n      );\n    },\n    mapTabClick() {\n      this.$refs.map.onResize();\n    },\n    resetCountry() {\n      this.$store.commit('features/SET_FEATURE_FILTER', { countries: [] });\n    },\n    resetIndicator() {\n      this.$store.commit('features/SET_FEATURE_FILTER', { indicators: [] });\n    },\n    getUniqueKey(indicatorObject) {\n      return this.getLocationCode(indicatorObject);\n    },\n    currentlySelected(feature) {\n      return this.$store.state.indicators.selectedIndicator\n        && this.$store.state.indicators.selectedIndicator.indicator\n          === feature.properties.indicatorObject.indicator\n        && this.$store.state.indicators.selectedIndicator.aoiID\n          === feature.properties.indicatorObject.aoiID;\n    },\n  },\n  watch: {\n    someGlobalIndicator() {\n      this.openGlobalPanel = false;\n      setTimeout(() => {\n        this.openGlobalPanel = this.someGlobalIndicator.length > 0;\n      }, 1);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.globalIndicators {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 1;\n}\n.circle {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background: var(--v-primary-base);\n  box-sizing: content-box;\n  margin-right: 4px;\n  cursor: pointer;\n}\n::v-deep .v-menu__content {\n  max-width: initial;\n  top: 38px !important;\n  left: 0px !important;\n}\n\n.global-indicators-panel {\n  position: absolute;\n  top: .4rem;\n  left: .5rem;\n  width: unset;\n\n  .panel-header {\n    padding: 0 1rem;\n  }\n\n  ::v-deep .v-expansion-panel-content__wrap {\n    padding: 0;\n  }\n}\n</style>\n"]}]}