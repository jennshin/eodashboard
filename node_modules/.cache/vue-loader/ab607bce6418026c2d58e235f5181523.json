{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/src/App.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/babel-loader/lib/index.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/___Public/__2021-Hackathon-EOD/eodash-staging/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIFV0aWxpdGllcwppbXBvcnQgewogIG1hcFN0YXRlLAogIG1hcEdldHRlcnMsCn0gZnJvbSAndnVleCc7CmltcG9ydCBDb29raWVMYXcgZnJvbSAndnVlLWNvb2tpZS1sYXcnOwppbXBvcnQgeyBsb2FkSW5kaWNhdG9yRGF0YSB9IGZyb20gJ0AvdXRpbHMnOwoKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgV2t0IH0gZnJvbSAnd2lja2V0JzsKCmltcG9ydCBBbGVydCBmcm9tICcuL2NvbXBvbmVudHMvQWxlcnQudnVlJzsKCmNvbnN0IHdrdCA9IG5ldyBXa3QoKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb29raWVMYXcsCiAgICBBbGVydCwKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBzaG93UHJpdmFjeURpYWxvZzogZmFsc2UsCiAgICBjb21pbmdTb29uOiBudWxsLAogICAgY291bnREb3duVGltZTogbnVsbCwKICB9KSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ2NvbmZpZycsIFsKICAgICAgJ2FwcENvbmZpZycsCiAgICAgICdiYXNlQ29uZmlnJywKICAgIF0pLAogICAgLi4ubWFwR2V0dGVycygnZmVhdHVyZXMnLCBbCiAgICAgICdnZXRJbmRpY2F0b3JzJywKICAgICAgJ2dldENvdW50cnlJdGVtcycsCiAgICBdKSwKICAgIHNob3dDb29raWVOb3RpY2UoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXRoICE9PSAnL2lmcmFtZSc7CiAgICB9LAogICAgdGhlbWUoKSB7CiAgICAgIHJldHVybiAodGhpcy4kdnVldGlmeS50aGVtZS5kYXJrKSA/ICdkYXJrJyA6ICdsaWdodCc7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5hcHBDb25maWcsICdjb3VudERvd25UaW1lcicpCiAgICAgICYmIHRoaXMuYXBwQ29uZmlnLmNvdW50RG93bk1hdGNoLmluY2x1ZGVzKGRvY3VtZW50LmRvbWFpbikpIHsKICAgICAgdGhpcy5jb21pbmdTb29uID0gdHJ1ZTsKICAgICAgdGhpcy5jaGVja0NvbWluZ1Nvb24oKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29taW5nU29vbiA9IGZhbHNlOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIExpc3RlbiBmb3IgZmVhdHVyZXMgYWRkZWQsIGFuZCBzZWxlY3QgaWYgcG9pIGluIHF1ZXJ5CiAgICB0aGlzLiRzdG9yZS5zdWJzY3JpYmUoKG11dGF0aW9uKSA9PiB7CiAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnZmVhdHVyZXMvQUREX05FV19GRUFUVVJFUycpIHsKICAgICAgICAvLyBSZWFkIHJvdXRlIHF1ZXJ5IGFuZCBzZXQgc2VsZWN0ZWQgcG9pCiAgICAgICAgY29uc3QgeyBwb2kgfSA9IHRoaXMuJHJvdXRlLnF1ZXJ5OwogICAgICAgIGxldCBzZWxlY3RlZEZlYXR1cmUgPSBudWxsOwogICAgICAgIGlmIChwb2kgJiYgcG9pLmluY2x1ZGVzKCctJykpIHsKICAgICAgICAgIGNvbnN0IGFvaUlkID0gcG9pLnNwbGl0KCctJylbMF07CiAgICAgICAgICBjb25zdCBpbmRpY2F0b3JDb2RlID0gcG9pLnNwbGl0KCctJylbMV07CiAgICAgICAgICBzZWxlY3RlZEZlYXR1cmUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5mZWF0dXJlcy5hbGxGZWF0dXJlcy5maW5kKChmKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHsgaW5kaWNhdG9yT2JqZWN0IH0gPSBmLnByb3BlcnRpZXM7CiAgICAgICAgICAgIHJldHVybiBpbmRpY2F0b3JPYmplY3QuYW9pSUQgPT09IGFvaUlkCiAgICAgICAgICAgICAgJiYgaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvciA9PT0gaW5kaWNhdG9yQ29kZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luZGljYXRvcnMvU0VUX1NFTEVDVEVEX0lORElDQVRPUicsIHNlbGVjdGVkRmVhdHVyZSA/IHNlbGVjdGVkRmVhdHVyZS5wcm9wZXJ0aWVzLmluZGljYXRvck9iamVjdCA6IG51bGwpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaW5kaWNhdG9ycy9TRVRfU0VMRUNURURfSU5ESUNBVE9SJywgc2VsZWN0ZWRGZWF0dXJlID8gc2VsZWN0ZWRGZWF0dXJlLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0IDogbnVsbCk7CgogICAgICAgIC8vIFJlYWQgcm91dGUgcXVlcnkgYW5kIHZhbGlkYXRlIGNvdW50cnkgYW5kIGluZGljYXRvciBpZiBpbiBxdWVyeQogICAgICAgIGNvbnN0IHsgY291bnRyeSB9ID0gdGhpcy4kcm91dGUucXVlcnk7CiAgICAgICAgY29uc3QgeyBpbmRpY2F0b3IgfSA9IHRoaXMuJHJvdXRlLnF1ZXJ5OwogICAgICAgIC8vIHZhbGlkYXRlIHF1ZXJ5IGZvciBjb3VudHJ5IC0gbmVlZCB0byBiZSBhbW9uZyBhdmFpbGFibGUKICAgICAgICBjb25zdCBzZWxlY3RlZENvdW50cnkgPSB0aGlzLmdldENvdW50cnlJdGVtcwogICAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5jb2RlKS5mbGF0KCkuZmluZCgoZikgPT4gZiA9PT0gY291bnRyeSk7CiAgICAgICAgbGV0IHNlbGVjdGVkSW5kaWNhdG9yID0gdGhpcy5nZXRJbmRpY2F0b3JzCiAgICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLmNvZGUpLmZpbmQoKGYpID0+IGYgPT09IGluZGljYXRvcik7CiAgICAgICAgLy8gSWYgc2VsZWN0ZWRJbmRpY2F0b3IgaXMgdW5kZWZpbmVkIGFuZCBpbmRpY2F0b3IgaGFzIGJlZW4gcHJvdmlkZWQKICAgICAgICAvLyBpdCBjb3VsZCBiZSBhbiBhcmNoaXZlZCBpbmRpY2F0b3Igc28gd2UgYWN0aXZhdGUKICAgICAgICBpZiAodHlwZW9mIGluZGljYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHNlbGVjdGVkSW5kaWNhdG9yID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdmZWF0dXJlcy9TRVRfRkVBVFVSRV9GSUxURVInLCB7IGluY2x1ZGVBcmNoaXZlZDogdHJ1ZSB9KTsKICAgICAgICAgIHNlbGVjdGVkSW5kaWNhdG9yID0gdGhpcy5nZXRJbmRpY2F0b3JzCiAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0uY29kZSkuZmluZCgoZikgPT4gZiA9PT0gaW5kaWNhdG9yKTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdmZWF0dXJlcy9JTklUX0ZFQVRVUkVfRklMVEVSJywgewogICAgICAgICAgY291bnRyaWVzOiBzZWxlY3RlZENvdW50cnksCiAgICAgICAgICBpbmRpY2F0b3JzOiBzZWxlY3RlZEluZGljYXRvciwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8gVXJsIHF1ZXJ5IHJlcGxhY2VtZW50CiAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnZmVhdHVyZXMvU0VUX0ZFQVRVUkVfRklMVEVSJykgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KG11dGF0aW9uLnBheWxvYWQuY291bnRyaWVzKSAmJiBtdXRhdGlvbi5wYXlsb2FkLmNvdW50cmllcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIC8vIEdsb2JhbAogICAgICAgICAgY29uc3QgcXVlcnkgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLiRyb3V0ZS5xdWVyeSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUKICAgICAgICAgIGRlbGV0ZSBxdWVyeS5jb3VudHJ5OwogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBxdWVyeSB9KS5jYXRjaChlcnIgPT4ge30pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgICB0aGlzLnRyYWNrRXZlbnQoJ2ZpbHRlcnMnLCAnc2VsZWN0X2NvdW50cnlfZmlsdGVyJywgJ0dsb2JhbCcpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG11dGF0aW9uLnBheWxvYWQuY291bnRyaWVzID09PSAnc3RyaW5nJykgewogICAgICAgICAgLy8gQ291bnRyeQogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBxdWVyeTogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kcm91dGUucXVlcnksIHsgY291bnRyeTogbXV0YXRpb24ucGF5bG9hZC5jb3VudHJpZXMgfSkgfSkuY2F0Y2goZXJyID0+IHt9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgICAgdGhpcy50cmFja0V2ZW50KCdmaWx0ZXJzJywgJ3NlbGVjdF9jb3VudHJ5X2ZpbHRlcicsIG11dGF0aW9uLnBheWxvYWQuY291bnRyaWVzKTsKICAgICAgICB9CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobXV0YXRpb24ucGF5bG9hZC5pbmRpY2F0b3JzKSkgewogICAgICAgICAgaWYgKG11dGF0aW9uLnBheWxvYWQuaW5kaWNhdG9ycy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgLy8gUmVzZXQKICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLiRyb3V0ZS5xdWVyeSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUKICAgICAgICAgICAgZGVsZXRlIHF1ZXJ5LmluZGljYXRvcjsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBxdWVyeSB9KS5jYXRjaChlcnIgPT4ge30pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgICAgIHRoaXMudHJhY2tFdmVudCgnZmlsdGVycycsICdzZWxlY3RfaW5kaWNhdG9yX2ZpbHRlcicsICdhbGwnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFNpbmdsZQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHF1ZXJ5OiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLiRyb3V0ZS5xdWVyeSwgeyBpbmRpY2F0b3I6IG11dGF0aW9uLnBheWxvYWQuaW5kaWNhdG9yc1swXSB9KSB9KS5jYXRjaChlcnIgPT4ge30pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgICAgIHRoaXMudHJhY2tFdmVudCgnZmlsdGVycycsICdzZWxlY3RfaW5kaWNhdG9yX2ZpbHRlcicsIG11dGF0aW9uLnBheWxvYWQuaW5kaWNhdG9yc1swXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2ZlYXR1cmVzL1NFVF9TRUxFQ1RFRF9BUkVBJykgewogICAgICAgIGlmIChtdXRhdGlvbi5wYXlsb2FkKSB7CiAgICAgICAgICBjb25zdCBhcmVhID0gd2t0LnJlYWQoSlNPTi5zdHJpbmdpZnkobXV0YXRpb24ucGF5bG9hZCkpLndyaXRlKCk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHF1ZXJ5OiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLiRyb3V0ZS5xdWVyeSwgeyBhcmVhLCB9KSB9KS5jYXRjaChlcnIgPT4ge30pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kcm91dGUucXVlcnkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgICBkZWxldGUgcXVlcnkuYXJlYTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcXVlcnkgfSkuY2F0Y2goZXJyID0+IHt9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKFsnaW5kaWNhdG9ycy9TRVRfU0VMRUNURURfSU5ESUNBVE9SJ10uaW5jbHVkZXMobXV0YXRpb24udHlwZSkpIHsKICAgICAgICBpZiAobXV0YXRpb24ucGF5bG9hZCAmJiAhKCAvLyBJZiBkdW1teSBmZWF0dXJlIHNlbGVjdGVkIGlnbm9yZQogICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG11dGF0aW9uLnBheWxvYWQsICdkdW1teUZlYXR1cmUnKQogICAgICAgICAgJiYgbXV0YXRpb24ucGF5bG9hZC5kdW1teUZlYXR1cmUpKSB7CiAgICAgICAgICB0aGlzLmxvYWRJbmRpY2F0b3JEYXRhKG11dGF0aW9uLnBheWxvYWQpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBxdWVyeTogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kcm91dGUucXVlcnksIHsgcG9pOiB0aGlzLmdldExvY2F0aW9uQ29kZShtdXRhdGlvbi5wYXlsb2FkKSB9KSB9KS5jYXRjaChlcnIgPT4ge30pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgICB0aGlzLnRyYWNrRXZlbnQoJ2luZGljYXRvcnMnLCAnc2VsZWN0X2luZGljYXRvcicsIHRoaXMuZ2V0TG9jYXRpb25Db2RlKG11dGF0aW9uLnBheWxvYWQpKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaW5kaWNhdG9ycy9DVVNUT01fQVJFQV9JTkRJQ0FUT1JfTE9BRF9GSU5JU0hFRCcsIG51bGwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zdCBxdWVyeSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuJHJvdXRlLnF1ZXJ5KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgICAgZGVsZXRlIHF1ZXJ5LnBvaTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcXVlcnkgfSkuY2F0Y2goZXJyID0+IHt9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpbmRpY2F0b3JzL0lORElDQVRPUl9MT0FEX0ZJTklTSEVEJywgbnVsbCk7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luZGljYXRvcnMvQ1VTVE9NX0FSRUFfSU5ESUNBVE9SX0xPQURfRklOSVNIRUQnLCBudWxsKTsKICAgICAgICAgIHRoaXMudHJhY2tFdmVudCgnaW5kaWNhdG9ycycsICdkZXNlbGVjdF9pbmRpY2F0b3InKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5zZXRBcmVhRnJvbVF1ZXJ5KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBjaGVja0NvbWluZ1Nvb24oKSB7CiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gYXdhaXQgdGhpcy5nZXRDdXJyZW50VGltZSgpOwogICAgICB0aGlzLmNvdW50RG93blRpbWUgPSBuZXcgRGF0ZSh0aGlzLmFwcENvbmZpZy5jb3VudERvd25UaW1lcikgLSBjdXJyZW50VGltZTsKICAgICAgdGhpcy5jb21pbmdTb29uID0gdGhpcy5jb3VudERvd25UaW1lID4gMDsKICAgIH0sCiAgICBhc3luYyBnZXRDdXJyZW50VGltZSgpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy8nKTsKICAgICAgcmV0dXJuIG5ldyBEYXRlKHJlc3BvbnNlLmhlYWRlcnMuZGF0ZSk7CiAgICB9LAogICAgYXN5bmMgbG9hZEluZGljYXRvckRhdGEocGF5bG9hZCkgewogICAgICBjb25zdCBpbmRpY2F0b3JPYmplY3QgPSBhd2FpdCBsb2FkSW5kaWNhdG9yRGF0YSh0aGlzLmJhc2VDb25maWcsIHBheWxvYWQpOwogICAgICBpZiAoaW5kaWNhdG9yT2JqZWN0KSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpbmRpY2F0b3JzL0lORElDQVRPUl9MT0FEX0ZJTklTSEVEJywgaW5kaWNhdG9yT2JqZWN0KTsKICAgICAgfQogICAgfSwKICAgIGFjY2VwdENvb2tpZXMoKSB7CiAgICAgIGlmICh0aGlzLiRtYXRvbW8pIHsKICAgICAgICB0aGlzLiRtYXRvbW8ucmVtZW1iZXJDb25zZW50R2l2ZW4oKTsKICAgICAgfQogICAgfSwKICAgIHNldEFyZWFGcm9tUXVlcnkoKSB7CiAgICAgIGNvbnN0IHsgYXJlYSB9ID0gdGhpcy4kcm91dGUucXVlcnk7CiAgICAgIC8vIHNpbXBseSB2YWxpZGF0ZSBmb3JtYXQgb2YgYXJlYSBmcm9tIHF1ZXJ5CiAgICAgIGlmICh0eXBlb2YgYXJlYSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBjb25zdCB2YWxpZEFyZWEgPSB3a3QucmVhZChhcmVhKTsKICAgICAgICBpZiAodmFsaWRBcmVhKSB7CiAgICAgICAgICAvLyBzYXZlIGFzIEpTT04KICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZmVhdHVyZXMvU0VUX1NFTEVDVEVEX0FSRUEnLCB2YWxpZEFyZWEudG9Kc29uKCkpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<!-- eslint-disable global-require -->\n<template>\n  <v-app id=\"inspire\" :class=\"`fill-height brand-${appConfig.id}`\">\n    <div v-if=\"comingSoon\"\n      class=\"fill-height d-flex justify-center align-center\"\n      :style=\"{background: $vuetify.theme.themes[theme].background}\"\n    >\n      <countdown v-if=\"countDownTime\" :time=\"countDownTime\" @end=\"comingSoon = false\">\n        <template slot-scope=\"props\">\n          <div class=\"text-center\">\n            <img src=\"../public/data/trilateral/Countdown.png\"\n              style=\"width: 70%; max-width: 100vw\" class=\"mb-5\" />\n            <h1 class=\"display-2 primary--text\">\n              <span v-if=\"props.days > 0\">{{ props.days }} days, </span>{{ props.hours }} hours,\n              <br v-if=\"$vuetify.breakpoint.xsOnly\" />{{ props.minutes }} minutes,\n              <br v-if=\"$vuetify.breakpoint.xsOnly\" />{{ props.seconds }} seconds\n            </h1>\n          </div>\n        </template>\n      </countdown>\n    </div>\n    <template v-else>\n      <router-view />\n      <cookie-law\n        v-if=\"showCookieNotice\" @accept=\"acceptCookies\"\n        :theme=\"$vuetify.theme.dark ? 'blood-orange' : 'base'\"\n      >\n        <div slot-scope=\"props\" style=\"width: 100%;\">\n          <div class=\"d-flex align-center justify-center mb-5\">\n            <small class=\"mb-0\">\n              We use cookies which are essential for you to access our website and/or\n              to provide you with our services\n              and allow us to measure and improve the\n              performance of our website. <br v-if=\"$vuetify.breakpoint.xsOnly\" />\n              <a href=\"/privacy\" target=\"_blank\">Learn more</a>.\n            </small>\n          </div>\n          <div class=\"text-center\">\n            <v-btn\n              color=\"primary\"\n              :block=\"$vuetify.breakpoint.xsOnly\"\n              :class=\"$vuetify.breakpoint.smAndUp ? 'mr-5' : 'mb-5'\"\n              @click=\"props.accept\"\n            >\n              <v-icon left>mdi-checkbox-marked-circle-outline</v-icon>\n              Accept all cookies\n            </v-btn>\n            <v-btn\n              color=\"primary\"\n              outlined\n              :block=\"$vuetify.breakpoint.xsOnly\"\n              @click=\"props.close\"\n            >\n              <v-icon left>mdi-cancel</v-icon>\n              Accept essential only\n            </v-btn>\n          </div>\n        </div>\n      </cookie-law>\n      <alert />\n    </template>\n  </v-app>\n</template>\n\n<script>\n// Utilities\nimport {\n  mapState,\n  mapGetters,\n} from 'vuex';\nimport CookieLaw from 'vue-cookie-law';\nimport { loadIndicatorData } from '@/utils';\n\nimport axios from 'axios';\nimport { Wkt } from 'wicket';\n\nimport Alert from './components/Alert.vue';\n\nconst wkt = new Wkt();\n\nexport default {\n  components: {\n    CookieLaw,\n    Alert,\n  },\n  data: () => ({\n    showPrivacyDialog: false,\n    comingSoon: null,\n    countDownTime: null,\n  }),\n  computed: {\n    ...mapState('config', [\n      'appConfig',\n      'baseConfig',\n    ]),\n    ...mapGetters('features', [\n      'getIndicators',\n      'getCountryItems',\n    ]),\n    showCookieNotice() {\n      return this.$route.path !== '/iframe';\n    },\n    theme() {\n      return (this.$vuetify.theme.dark) ? 'dark' : 'light';\n    },\n  },\n  created() {\n    if (Object.prototype.hasOwnProperty.call(this.appConfig, 'countDownTimer')\n      && this.appConfig.countDownMatch.includes(document.domain)) {\n      this.comingSoon = true;\n      this.checkComingSoon();\n    } else {\n      this.comingSoon = false;\n    }\n  },\n  mounted() {\n    // Listen for features added, and select if poi in query\n    this.$store.subscribe((mutation) => {\n      if (mutation.type === 'features/ADD_NEW_FEATURES') {\n        // Read route query and set selected poi\n        const { poi } = this.$route.query;\n        let selectedFeature = null;\n        if (poi && poi.includes('-')) {\n          const aoiId = poi.split('-')[0];\n          const indicatorCode = poi.split('-')[1];\n          selectedFeature = this.$store.state.features.allFeatures.find((f) => {\n            const { indicatorObject } = f.properties;\n            return indicatorObject.aoiID === aoiId\n              && indicatorObject.indicator === indicatorCode;\n          });\n        }\n        this.$store.commit('indicators/SET_SELECTED_INDICATOR', selectedFeature ? selectedFeature.properties.indicatorObject : null);\n        this.$store.commit('indicators/SET_SELECTED_INDICATOR', selectedFeature ? selectedFeature.properties.indicatorObject : null);\n\n        // Read route query and validate country and indicator if in query\n        const { country } = this.$route.query;\n        const { indicator } = this.$route.query;\n        // validate query for country - need to be among available\n        const selectedCountry = this.getCountryItems\n          .map((item) => item.code).flat().find((f) => f === country);\n        let selectedIndicator = this.getIndicators\n          .map((item) => item.code).find((f) => f === indicator);\n        // If selectedIndicator is undefined and indicator has been provided\n        // it could be an archived indicator so we activate\n        if (typeof indicator !== 'undefined' && typeof selectedIndicator === 'undefined') {\n          this.$store.commit('features/SET_FEATURE_FILTER', { includeArchived: true });\n          selectedIndicator = this.getIndicators\n            .map((item) => item.code).find((f) => f === indicator);\n        }\n        this.$store.commit('features/INIT_FEATURE_FILTER', {\n          countries: selectedCountry,\n          indicators: selectedIndicator,\n        });\n      }\n\n      // Url query replacement\n      if (mutation.type === 'features/SET_FEATURE_FILTER') {\n        if (Array.isArray(mutation.payload.countries) && mutation.payload.countries.length === 0) {\n          // Global\n          const query = Object.assign({}, this.$route.query); // eslint-disable-line\n          delete query.country;\n          this.$router.replace({ query }).catch(err => {}); // eslint-disable-line\n          this.trackEvent('filters', 'select_country_filter', 'Global');\n        } else if (typeof mutation.payload.countries === 'string') {\n          // Country\n          this.$router.replace({ query: Object.assign({}, this.$route.query, { country: mutation.payload.countries }) }).catch(err => {}); // eslint-disable-line\n          this.trackEvent('filters', 'select_country_filter', mutation.payload.countries);\n        }\n        if (Array.isArray(mutation.payload.indicators)) {\n          if (mutation.payload.indicators.length === 0) {\n            // Reset\n            const query = Object.assign({}, this.$route.query); // eslint-disable-line\n            delete query.indicator;\n            this.$router.replace({ query }).catch(err => {}); // eslint-disable-line\n            this.trackEvent('filters', 'select_indicator_filter', 'all');\n          } else {\n            // Single\n            this.$router.replace({ query: Object.assign({}, this.$route.query, { indicator: mutation.payload.indicators[0] }) }).catch(err => {}); // eslint-disable-line\n            this.trackEvent('filters', 'select_indicator_filter', mutation.payload.indicators[0]);\n          }\n        }\n      }\n\n      if (mutation.type === 'features/SET_SELECTED_AREA') {\n        if (mutation.payload) {\n          const area = wkt.read(JSON.stringify(mutation.payload)).write();\n          this.$router.replace({ query: Object.assign({}, this.$route.query, { area, }) }).catch(err => {}); // eslint-disable-line\n        } else {\n          const query = Object.assign({}, this.$route.query); // eslint-disable-line\n          delete query.area;\n          this.$router.replace({ query }).catch(err => {}); // eslint-disable-line\n        }\n      }\n\n      if (['indicators/SET_SELECTED_INDICATOR'].includes(mutation.type)) {\n        if (mutation.payload && !( // If dummy feature selected ignore\n          Object.prototype.hasOwnProperty.call(mutation.payload, 'dummyFeature')\n          && mutation.payload.dummyFeature)) {\n          this.loadIndicatorData(mutation.payload);\n          this.$router.replace({ query: Object.assign({}, this.$route.query, { poi: this.getLocationCode(mutation.payload) }) }).catch(err => {}); // eslint-disable-line\n          this.trackEvent('indicators', 'select_indicator', this.getLocationCode(mutation.payload));\n          this.$store.commit('indicators/CUSTOM_AREA_INDICATOR_LOAD_FINISHED', null);\n        } else {\n          const query = Object.assign({}, this.$route.query); // eslint-disable-line\n          delete query.poi;\n          this.$router.replace({ query }).catch(err => {}); // eslint-disable-line\n          this.$store.commit('indicators/INDICATOR_LOAD_FINISHED', null);\n          this.$store.commit('indicators/CUSTOM_AREA_INDICATOR_LOAD_FINISHED', null);\n          this.trackEvent('indicators', 'deselect_indicator');\n        }\n      }\n    });\n    this.setAreaFromQuery();\n  },\n  methods: {\n    async checkComingSoon() {\n      const currentTime = await this.getCurrentTime();\n      this.countDownTime = new Date(this.appConfig.countDownTimer) - currentTime;\n      this.comingSoon = this.countDownTime > 0;\n    },\n    async getCurrentTime() {\n      const response = await axios.get('/');\n      return new Date(response.headers.date);\n    },\n    async loadIndicatorData(payload) {\n      const indicatorObject = await loadIndicatorData(this.baseConfig, payload);\n      if (indicatorObject) {\n        this.$store.commit('indicators/INDICATOR_LOAD_FINISHED', indicatorObject);\n      }\n    },\n    acceptCookies() {\n      if (this.$matomo) {\n        this.$matomo.rememberConsentGiven();\n      }\n    },\n    setAreaFromQuery() {\n      const { area } = this.$route.query;\n      // simply validate format of area from query\n      if (typeof area === 'string') {\n        const validArea = wkt.read(area);\n        if (validArea) {\n          // save as JSON\n          this.$store.commit('features/SET_SELECTED_AREA', validArea.toJson());\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"~@/scss/global.scss\";\n</style>\n"]}]}