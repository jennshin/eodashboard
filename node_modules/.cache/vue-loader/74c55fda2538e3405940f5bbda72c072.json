{"remainingRequest":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/src/components/CenterPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/src/components/CenterPanel.vue","mtime":1624532486000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/babel-loader/lib/index.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/cache-loader/dist/cjs.js","mtime":1624878747000},{"path":"/Volumes/WD_Elements_25A1_Media/Google Drive/_Github/github_upload/eodashboard/app/node_modules/vue-loader/lib/index.js","mtime":1624878753000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIFV0aWxpdGllcwppbXBvcnQgewogIG1hcEdldHRlcnMsCiAgbWFwU3RhdGUsCn0gZnJvbSAndnVleCc7CgppbXBvcnQgRmVhdHVyZVRhYmxlIGZyb20gJ0AvY29tcG9uZW50cy9GZWF0dXJlVGFibGUudnVlJzsKaW1wb3J0IE1hcCBmcm9tICdAL2NvbXBvbmVudHMvTWFwLnZ1ZSc7CgppbXBvcnQgY291bnRyaWVzIGZyb20gJ0AvYXNzZXRzL2NvdW50cmllcy5qc29uJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBGZWF0dXJlVGFibGUsCiAgICBNYXAsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiOiBudWxsLAogICAgICBvcGVuR2xvYmFsUGFuZWw6IGZhbHNlLAogICAgICBwYW5lbDogdGhpcy4kdnVldGlmeS5icmVha3BvaW50LnhzT25seSA/IG51bGwgOiAwLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCdmZWF0dXJlcycsIFsKICAgICAgJ2dldEdyb3VwZWRGZWF0dXJlcycsCiAgICAgICdnZXRJbmRpY2F0b3JzJywKICAgIF0pLAogICAgLi4ubWFwU3RhdGUoJ2NvbmZpZycsIFsnYmFzZUNvbmZpZyddKSwKICAgIGNvdW50cmllcygpIHsKICAgICAgcmV0dXJuIGNvdW50cmllczsKICAgIH0sCiAgICBnbG9iYWxJbmRpY2F0b3JzKCkgewogICAgICByZXR1cm4gdGhpcy5nZXRHcm91cGVkRmVhdHVyZXMgJiYgdGhpcy5nZXRHcm91cGVkRmVhdHVyZXMKICAgICAgICAuZmlsdGVyKChmKSA9PiBbJ2dsb2JhbCddLmluY2x1ZGVzKGYucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3Quc2l0ZU5hbWUpKQogICAgICAgIC5zb3J0KChhLCBiKSA9PiAoKGEucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3QuaW5kaWNhdG9yTmFtZQogICAgICAgICAgPiBiLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvck5hbWUpCiAgICAgICAgICA/IDEKICAgICAgICAgIDogLTEpKTsKICAgIH0sCiAgICBzb21lR2xvYmFsSW5kaWNhdG9yKCkgewogICAgICByZXR1cm4gdGhpcy5nbG9iYWxJbmRpY2F0b3JzICYmIHRoaXMuZ2xvYmFsSW5kaWNhdG9ycwogICAgICAgIC5maWx0ZXIoKGkpID0+IHRoaXMuJHN0b3JlLnN0YXRlLmZlYXR1cmVzLmZlYXR1cmVGaWx0ZXJzLmluZGljYXRvcnMKICAgICAgICAgIC5pbmNsdWRlcyhpLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvcikpOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEdsb2JhbChmZWF0dXJlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgKICAgICAgICAnaW5kaWNhdG9ycy9TRVRfU0VMRUNURURfSU5ESUNBVE9SJywKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5mZWF0dXJlcy5hbGxGZWF0dXJlcwogICAgICAgICAgLmZpbmQoKGYpID0+IGYucHJvcGVydGllcwogICAgICAgICAgICAuaW5kaWNhdG9yT2JqZWN0LmluZGljYXRvciA9PT0gZmVhdHVyZS5wcm9wZXJ0aWVzLmluZGljYXRvck9iamVjdC5pbmRpY2F0b3IKICAgICAgICAgICYmIGYucHJvcGVydGllcwogICAgICAgICAgICAuaW5kaWNhdG9yT2JqZWN0LmFvaUlEID09PSBmZWF0dXJlLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0LmFvaUlEKQogICAgICAgICAgLnByb3BlcnRpZXMuaW5kaWNhdG9yT2JqZWN0LAogICAgICApOwogICAgfSwKICAgIG1hcFRhYkNsaWNrKCkgewogICAgICB0aGlzLiRyZWZzLm1hcC5vblJlc2l6ZSgpOwogICAgfSwKICAgIHJlc2V0Q291bnRyeSgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdmZWF0dXJlcy9TRVRfRkVBVFVSRV9GSUxURVInLCB7IGNvdW50cmllczogW10gfSk7CiAgICB9LAogICAgcmVzZXRJbmRpY2F0b3IoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZmVhdHVyZXMvU0VUX0ZFQVRVUkVfRklMVEVSJywgeyBpbmRpY2F0b3JzOiBbXSB9KTsKICAgIH0sCiAgICBnZXRVbmlxdWVLZXkoaW5kaWNhdG9yT2JqZWN0KSB7CiAgICAgIHJldHVybiB0aGlzLmdldExvY2F0aW9uQ29kZShpbmRpY2F0b3JPYmplY3QpOwogICAgfSwKICAgIGN1cnJlbnRseVNlbGVjdGVkKGZlYXR1cmUpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmluZGljYXRvcnMuc2VsZWN0ZWRJbmRpY2F0b3IKICAgICAgICAmJiB0aGlzLiRzdG9yZS5zdGF0ZS5pbmRpY2F0b3JzLnNlbGVjdGVkSW5kaWNhdG9yLmluZGljYXRvcgogICAgICAgICAgPT09IGZlYXR1cmUucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3QuaW5kaWNhdG9yCiAgICAgICAgJiYgdGhpcy4kc3RvcmUuc3RhdGUuaW5kaWNhdG9ycy5zZWxlY3RlZEluZGljYXRvci5hb2lJRAogICAgICAgICAgPT09IGZlYXR1cmUucHJvcGVydGllcy5pbmRpY2F0b3JPYmplY3QuYW9pSUQ7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIHNvbWVHbG9iYWxJbmRpY2F0b3IoKSB7CiAgICAgIHRoaXMub3Blbkdsb2JhbFBhbmVsID0gZmFsc2U7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMub3Blbkdsb2JhbFBhbmVsID0gdGhpcy5zb21lR2xvYmFsSW5kaWNhdG9yLmxlbmd0aCA+IDA7CiAgICAgIH0sIDEpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["CenterPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CenterPanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"fill-height pb-8\">\n    <v-tabs\n      v-model=\"tab\"\n      icons-and-text\n      grow\n    >\n      <v-tab ref=\"mapTab\" @click=\"mapTabClick\"\n        style=\"width: 125px\"\n      >\n        Map\n        <v-icon>mdi-map-search</v-icon>\n      </v-tab>\n      <v-tab\n        style=\"width: 125px\"\n      >\n        Table\n        <v-icon>mdi-table-search</v-icon>\n      </v-tab>\n    </v-tabs>\n    <v-tabs-items\n      v-model=\"tab\"\n      touchless\n      class=\"fill-height pb-7\"\n    >\n      <v-tab-item class=\"fill-height\">\n        <Map ref=\"map\" />\n        <v-expansion-panels accordion class=\"global-indicators-panel\" v-model=\"panel\">\n          <v-expansion-panel>\n            <v-expansion-panel-header class=\"panel-header\">\n              <div class=\"d-flex align-center\">\n                <v-icon left color=\"primary\">mdi-earth</v-icon>\n                <span\n                  v-if=\"$vuetify.breakpoint.smAndUp || panel !== undefined && panel !== null\"\n                >Global Indicators</span>\n              </div>\n            </v-expansion-panel-header>\n            <v-expansion-panel-content class=\"panel-content\">\n              <v-list dense class=\"pt-0\">\n                <v-list-item\n                  v-for=\"feature in globalIndicators\"\n                  :key=\"getUniqueKey(feature.properties.indicatorObject)\"\n                  class=\"line\"\n                  style=\"cursor: pointer\"\n                  @click=\"selectGlobal(feature)\"\n                >\n                <v-list-item-icon\n                class=\"d-flex align-center mr-1\">\n                  <div\n                    class=\"circle\"\n                    :style=\"`\n                      border: 2px ${currentlySelected(feature)\n                        ? 'dotted'\n                        : 'solid'} white;\n                      width: ${currentlySelected(feature) ? '28px' : '26px'};\n                      height: ${currentlySelected(feature) ? '28px' : '26px'};`\"\n                  >\n                      <v-icon\n                        color=\"white\"\n                        icon-url=\"/test\"\n                        small\n                      >\n                        {{ baseConfig.indicatorClassesIcons[baseConfig\n                            .indicatorsDefinition[feature.properties.indicatorObject.indicator]\n                            .class]\n                            ? baseConfig.indicatorClassesIcons[baseConfig\n                              .indicatorsDefinition[feature.properties\n                                .indicatorObject.indicator].class]\n                            : 'mdi-lightbulb-on-outline'}}\n                      </v-icon>\n                  </div>\n                </v-list-item-icon>\n                <v-list-item-content\n                :class=\"currentlySelected(feature) && 'font-weight-bold'\"\n                >\n                  <v-list-item-title>\n                  {{feature.properties.indicatorObject.description}}\n                  </v-list-item-title>\n                </v-list-item-content>\n                </v-list-item>\n              </v-list>\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n        </v-expansion-panels>\n        <div\n          style=\"position: absolute; left: 10px; bottom: 10px; z-index: 1;\"\n        >\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.countries.length > 0\"\n              class=\"ma-0 mr-2\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetCountry\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ countries.features\n                  .find((c) => c.properties.alpha2 === $store.state.features\n                    .featureFilters.countries).properties.name }}\n            </v-chip>\n          </v-scroll-y-transition>\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.indicators.length > 0\"\n              class=\"ma-0\"\n              :class=\"$vuetify.breakpoint.xsOnly && 'mt-1'\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetIndicator\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ getIndicators\n                  .find((i) => i.code === $store.state.features.featureFilters.indicators[0])\n              && getIndicators\n              .find((i) => i.code ===\n                $store.state.features.featureFilters.indicators[0]).indicator }}\n            </v-chip>\n          </v-scroll-y-transition>\n        </div>\n      </v-tab-item>\n      <v-tab-item\n        class=\"fill-height\"\n        style=\"overflow: auto\"\n      >\n        <feature-table\n          style=\"height: auto\"\n        />\n        <div\n          style=\"position: absolute; left: 10px; bottom: 10px; z-index: 1;\"\n        >\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.countries.length > 0\"\n              class=\"ma-0 mr-2\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetCountry\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ countries.features\n                  .find((c) => c.properties.alpha2 === $store.state.features\n                    .featureFilters.countries).properties.name }}\n            </v-chip>\n          </v-scroll-y-transition>\n          <v-scroll-y-transition>\n            <v-chip\n              v-if=\"$store.state.features.featureFilters.indicators.length > 0\"\n              class=\"ma-0\"\n              :class=\"$vuetify.breakpoint.xsOnly && 'mt-1'\"\n              color=\"primary\"\n              text-color=\"white\"\n              close\n              @click:close=\"resetIndicator\"\n            >\n              <v-icon small left>mdi-filter</v-icon>\n              {{ getIndicators\n                  .find((i) => i.code === $store.state.features.featureFilters.indicators[0])\n              && getIndicators\n              .find((i) => i.code ===\n                $store.state.features.featureFilters.indicators[0]).indicator }}\n            </v-chip>\n          </v-scroll-y-transition>\n        </div>\n      </v-tab-item>\n    </v-tabs-items>\n  </div>\n</template>\n\n<script>\n// Utilities\nimport {\n  mapGetters,\n  mapState,\n} from 'vuex';\n\nimport FeatureTable from '@/components/FeatureTable.vue';\nimport Map from '@/components/Map.vue';\n\nimport countries from '@/assets/countries.json';\n\nexport default {\n  components: {\n    FeatureTable,\n    Map,\n  },\n  data() {\n    return {\n      tab: null,\n      openGlobalPanel: false,\n      panel: this.$vuetify.breakpoint.xsOnly ? null : 0,\n    };\n  },\n  computed: {\n    ...mapGetters('features', [\n      'getGroupedFeatures',\n      'getIndicators',\n    ]),\n    ...mapState('config', ['baseConfig']),\n    countries() {\n      return countries;\n    },\n    globalIndicators() {\n      return this.getGroupedFeatures && this.getGroupedFeatures\n        .filter((f) => ['global'].includes(f.properties.indicatorObject.siteName))\n        .sort((a, b) => ((a.properties.indicatorObject.indicatorName\n          > b.properties.indicatorObject.indicatorName)\n          ? 1\n          : -1));\n    },\n    someGlobalIndicator() {\n      return this.globalIndicators && this.globalIndicators\n        .filter((i) => this.$store.state.features.featureFilters.indicators\n          .includes(i.properties.indicatorObject.indicator));\n    },\n  },\n  methods: {\n    selectGlobal(feature) {\n      this.$store.commit(\n        'indicators/SET_SELECTED_INDICATOR',\n        this.$store.state.features.allFeatures\n          .find((f) => f.properties\n            .indicatorObject.indicator === feature.properties.indicatorObject.indicator\n          && f.properties\n            .indicatorObject.aoiID === feature.properties.indicatorObject.aoiID)\n          .properties.indicatorObject,\n      );\n    },\n    mapTabClick() {\n      this.$refs.map.onResize();\n    },\n    resetCountry() {\n      this.$store.commit('features/SET_FEATURE_FILTER', { countries: [] });\n    },\n    resetIndicator() {\n      this.$store.commit('features/SET_FEATURE_FILTER', { indicators: [] });\n    },\n    getUniqueKey(indicatorObject) {\n      return this.getLocationCode(indicatorObject);\n    },\n    currentlySelected(feature) {\n      return this.$store.state.indicators.selectedIndicator\n        && this.$store.state.indicators.selectedIndicator.indicator\n          === feature.properties.indicatorObject.indicator\n        && this.$store.state.indicators.selectedIndicator.aoiID\n          === feature.properties.indicatorObject.aoiID;\n    },\n  },\n  watch: {\n    someGlobalIndicator() {\n      this.openGlobalPanel = false;\n      setTimeout(() => {\n        this.openGlobalPanel = this.someGlobalIndicator.length > 0;\n      }, 1);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.globalIndicators {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 1;\n}\n.circle {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background: var(--v-primary-base);\n  box-sizing: content-box;\n  margin-right: 4px;\n  cursor: pointer;\n}\n::v-deep .v-menu__content {\n  max-width: initial;\n  top: 38px !important;\n  left: 0px !important;\n}\n\n.global-indicators-panel {\n  position: absolute;\n  top: .4rem;\n  left: .5rem;\n  width: unset;\n\n  .panel-header {\n    padding: 0 1rem;\n  }\n\n  ::v-deep .v-expansion-panel-content__wrap {\n    padding: 0;\n  }\n}\n</style>\n"]}]}